{"version":3,"sources":["components/RoutineCard.js","backend/helpers.js","backend/Routine.js","backend/routes.js","components/Todos.js","components/PieChart.js","components/MinutesSpent.js","components/Log.js","components/CompareDays.js","components/Done.js","App.js","serviceWorker.js","components/AddRoutine.js","components/Help.js","components/ViewRoutines.js","components/Alert.js","components/Calendar.js","components/WeeklyBarChart.js","components/RoutineZoomed.js","components/Stats.js","index.js"],"names":["RoutineCard","state","doneButton","routinePercentage","routine","timesShouldDone","getTimesShouldDone","Math","round","numTimesDone","this","props","setState","zoom","Card","bg","style","cardStyle","className","Img","variant","src","imageLink","Body","Title","color","to","name","Text","getTotalTimeSpent","Button","onClick","markRoutineAsDone","bind","React","Component","width","margin","borderRadius","border","getDayOfWeek","date","Date","today","getTime","getDay","getDayOfMonth","getDate","getMonth","getArray","n","m","defaultVal","ans","i","curr","j","push","save","key","value","localStorage","setItem","getDaysInMonths","month","year","getWeekOf","dayOfMonth","reverse","Routine","type","days","estimation","tag","toggle","day","done","markDone","addedInfo","minutes","info","timeNeeded","touchTime","getHours","getMinutes","todayStatus","dayOfWeek","active","d","getStartTime","comp","finishTime","hrEnd","minEnd","toNum","getDuration","start","floor","parseInt","getRoutines","getItem","JSON","parse","map","Object","assign","ROUTINES","getRoutineByName","addRoutine","weekSchedule","time","url","newRoutine","stringify","deactivateRoutineByName","activateRoutineByName","deletRoutineByName","length","splice","getTodaysRoutines","filter","getPercentageDone","routines","week","all","getTimeSpent","f","getNumRoutinesDone","getRoutineByDay","Todos","showModal","Modal","show","onHide","routineDoneName","animation","Header","closeButton","Form","id","Group","controlId","Label","Control","placeholder","defaultValue","Footer","e","form","document","getElementById","comment","updateParent","routineName","updateDate","toggleParent","Fragment","PickDate","flexContainerStyle","display","flexWrap","useState","startDate","setStartDate","selected","onChange","getGraph","data","height","chartType","loader","options","title","backgroundColor","MinutesSpent","showMetric","toString","split","numDays","hAxis","Log","hr","sort","x","y","Table","striped","bordered","hover","CompareDays","getData","monthComp","dayOfMonthComp","found","done1","done2","update","Test","alert","Done","flexGrow","ButtonGroup","aria-label","summary","minutesSpent","App","todo","ProgressBar","now","label","Boolean","window","location","hostname","match","AddRoutine","clickWeekend","checkboxList","querySelectorAll","checked","clickAll","forEach","checkbox","handleSubmit","target","parentElement","routineTpye","routineUrl","routineTime","href","Help","ViewRoutines","AlertDismissible","Alert","onClose","dismissible","Heading","header","Calendar","getDayOfWeekGivenMYD","calendar","cellColor","stroke","strokeOpacity","strokeWidth","colors","rootProps","RoutineZoomed","activateDeactivateButton","getStatus","statsForRoutine","status","showAlert","gridTemplateColumns","justifyContent","gridStyle","LastDays","CommentDistribution","dates","toDateString","Map","cnt","has","get","set","Stats","RoutinesFrequency","HeatMap","Zoom","useParams","ReactDOM","render","basename","StrictMode","Navbar","Brand","Nav","Link","exact","path","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"kUAKqBA,E,4MACnBC,MAAQ,CAAEC,YAAY,G,EAItBC,kBAAoB,SAACC,GACnB,IAAIC,EAAkBD,EAAQE,qBAC9B,OAA2B,IAApBD,EACH,EACAE,KAAKC,MAAgC,IAAzBJ,EAAQK,eAAwBJ,I,kEAN5CK,KAAKC,MAAMT,YAAYQ,KAAKE,SAAS,CAAEV,YAAY,M,+BAUvD,IAAME,EAAUM,KAAKC,MAAMP,QACrBS,EAAOH,KAAKC,MAAME,KACxB,OACE,kBAACC,EAAA,EAAD,CAAMC,GAAG,OAAOC,MAAOC,EAAWC,UAAU,eAC1C,kBAACJ,EAAA,EAAKK,IAAN,CAAUC,QAAQ,MAAMC,IAAKjB,EAAQkB,YAErC,kBAACR,EAAA,EAAKS,KAAN,KACE,kBAACT,EAAA,EAAKU,MAAN,KACE,kBAAC,IAAD,CAAMR,MAAO,CAAES,MAAO,SAAWC,GAAE,oBAAetB,EAAQuB,OACvDvB,EAAQuB,OAGZd,GACC,kBAACC,EAAA,EAAKc,KAAN,eACMxB,EAAQK,eADd,YACgCL,EAAQE,sBACtC,6BAFF,UAGMI,KAAKP,kBAAkBC,GAH7B,KAIE,6BAJF,UAKMA,EAAQyB,oBALd,mBAQDnB,KAAKT,MAAMC,YACV,kBAAC4B,EAAA,EAAD,CACEV,QAAQ,SACRW,QAASrB,KAAKC,MAAMqB,kBAAkBC,KAAKvB,KAAMN,EAAQuB,OAF3D,iBAOAd,GACA,kBAACiB,EAAA,EAAD,CAAQV,QAAQ,WACd,kBAAC,IAAD,CAAMJ,MAAO,CAAES,MAAO,SAAWC,GAAE,oBAAetB,EAAQuB,OAA1D,mB,GA5C2BO,IAAMC,WAsDzClB,EAAY,CAChBmB,MAAO,QACPC,OAAQ,OACRC,aAAc,MACdC,OAAQ,a,QC7DJC,EAAe,WAAwB,IAAvBC,EAAsB,uDAAf,IAAIC,KAE3BC,GADJF,EAAO,IAAIC,KAAKD,EAAKG,UAHJ,QAIAC,SAAW,EAE5B,OADIF,EAAQ,IAAGA,GAAS,GACjBA,GAEHG,EAAgB,eAACL,EAAD,uDAAQ,IAAIC,MAAK,IAAIA,MAAOE,UAR/B,OAQG,OACpBH,EAAKM,UAAY,GACbC,EAAW,eAACP,EAAD,uDAAQ,IAAIC,MAAK,IAAIA,MAAOE,UAV1B,OAUF,OACfH,EAAKO,YAEDC,EAAW,SAACC,EAAGC,EAAGC,GAEtB,IADA,IAAIC,EAAM,GACDC,EAAI,EAAGA,EAAIJ,EAAGI,IAAK,CAE1B,IADA,IAAIC,EAAO,GACFC,EAAI,EAAGA,EAAIL,EAAGK,IAAKD,EAAKE,KAAKL,GACtCC,EAAII,KAAKF,GAEX,OAAOF,GAGHK,EAAO,SAACC,EAAKC,GAAN,OAAgBC,aAAaC,QAAQH,EAAKC,IACjDG,EAAkB,SAACC,GAAD,IAAQC,EAAR,uDAAe,KAAf,OACtB,IAAIvB,KAAKuB,EAAMD,EAAQ,EAAG,GAAGjB,WACzBmB,EAAY,SAACF,EAAOG,GAGxB,IAFA,IAAIZ,EAAO,IAAIb,KAAK,KAAMsB,EAAOG,EAAa,GAC1Cd,EAAM,GAERE,EAAO,IAAIb,KAAKa,EAAKX,UAAY,OACN,IAAvBJ,EAAae,IACjBF,EAAII,KAAK,CAACT,EAASO,GAAOT,EAAcS,KAI1C,IAFAF,EAAIe,UACJb,EAAO,IAAIb,KAAK,KAAMsB,EAAOG,EAAa,GAExCd,EAAII,KAAK,CAACT,EAASO,GAAOT,EAAcS,KACb,IAAvBf,EAAae,IACjBA,EAAO,IAAIb,KAAKa,EAAKX,UAAY,OAGnC,OADAS,EAAIe,UACGf,GCnCYgB,EACnB,WACE1C,EACA2C,GAKC,IAAD,OAJAC,EAIA,uDAJO,EAAC,GAAO,GAAO,GAAO,GAAO,GAAO,GAAO,GAClDC,EAGA,uCAFAlD,EAEA,uDAFY,GACZmD,EACA,gEAkBFC,OAAS,WACP,IAAIV,EAAQhB,IACV2B,EAAM7B,IACR,EAAK8B,KAAKZ,GAAOW,IAAQ,EAAKC,KAAKZ,GAAOW,IArB1C,KAuBFE,SAAW,SAACC,EAAWC,GACrB,IAAIf,EAAQhB,IACV2B,EAAM7B,IACR,EAAK8B,KAAKZ,GAAOW,IAAO,EACxB,EAAKK,KAAKhB,GAAOW,GAAOG,EACxB,EAAKG,WAAWjB,GAAOW,GAAOI,EAC9B,IAAMpC,EAAQ,IAAID,KAClB,EAAKwC,UAAUlB,GAAOW,GAAO,CAAChC,EAAMwC,WAAYxC,EAAMyC,eA9BtD,KAiCFC,YAAc,WACZ,IAAMrB,EAAQhB,IACRmB,EAAarB,IACbwC,EAAY9C,IAClB,OAAI,EAAK+B,KAAKe,IAAc,EAAKC,OAAOvB,GAAOG,GACtC,EAAKS,KAAKZ,GAAOG,GAAc,GAAK,EACjC,GAvCZ,KAyCF1D,aAAe,WAEb,IADA,IAAI4C,EAAM,EACDF,EAAI,EAAGA,EAAI,GAAIA,IACtB,IAAK,IAAIqC,EAAI,EAAGA,EAAI,GAAIA,IAAKnC,GAAO,EAAKuB,KAAKzB,GAAGqC,GAAK,EAAI,EAC5D,OAAOnC,GA7CP,KA+CFoC,aAAe,SAACzB,EAAOG,GAA8B,IAAlBuB,EAAiB,wDAC5CC,EAAa,EAAKT,UAAUlB,GAAOG,GACnCyB,EAAQD,EAAW,GACvBE,EAASF,EAAW,GAChBG,EAAgB,GAARF,EAAaC,EACvBxC,EAAMyC,EAAQ,EAAKb,WAAWjB,GAAOG,GAGzC,OAFId,EAAM,IAAGA,GAAO,MAChBqC,GAAQrC,EAAM,MAAQA,GAAO,MAC1BA,GAvDP,KAyDF0C,YAAc,SAAC/B,EAAOG,GACpB,IAAI6B,EAAQ,EAAKP,aAAazB,EAAOG,GACrC,MAAM,GAAN,OAAU5D,KAAK0F,MAAMD,EAAQ,IAA7B,YAAoCA,EAAQ,GAA5C,cACE,EAAKd,UAAUlB,GAAOG,GAAY,GADpC,YAEI,EAAKe,UAAUlB,GAAOG,GAAY,KA7DtC,KA+DF7D,mBAAqB,WAGnB,IAFA,IAAI+C,EAAM,EAEDF,EAAI,EAAGA,EAAI,GAAIA,IACtB,IAAK,IAAIqC,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,IAAI/C,EAAO,IAAIC,KAAK,KAAMS,EAAGqC,EAAI,GACjC,GAAI/C,EAAO,IAAIC,KAAQ,MACvBD,EAAO,IAAIC,KAAK,KAAMS,EAAGqC,EAAI,GACzB,EAAKD,OAAOpC,GAAGqC,IAAM,EAAKjB,KAAK/B,EAAaC,KAAQY,IAE5D,OAAOA,GAzEP,KA2EFxB,kBAAoB,WAElB,IADA,IAAIwB,EAAM,EACDF,EAAI,EAAGA,EAAI,GAAIA,IACtB,IAAK,IAAIqC,EAAI,EAAGA,EAAI,GAAIA,IAAKnC,GAAO6C,SAAS,EAAKjB,WAAW9B,GAAGqC,IAClE,OAAOnC,GA9EP3C,KAAKiB,KAAOA,EACZjB,KAAK4D,KAAOA,EACZ5D,KAAK6D,KAAOA,EACZ7D,KAAK8D,WAAaA,EAClB9D,KAAKY,UAAYA,EACjBZ,KAAK+D,IAAMA,EACX/D,KAAKkE,KAAO3B,EAAS,GAAI,IAAI,GAC7BvC,KAAKsE,KAAO/B,EAAS,GAAI,GAAI,IAC7BvC,KAAK6E,OAAStC,EAAS,GAAI,IAAI,GAC/BvC,KAAKuE,WAAahC,EAAS,GAAI,GAAI,GACnCvC,KAAKwE,UAAYjC,EAAS,GAAI,GAAI,CAAC,EAAG,IAGtC,IAFA,IAAMe,EAAQhB,IACR2B,EAAM7B,IACHK,EAAIa,EAAOb,EAAI,GAAIA,IAC1B,IAAK,IAAIqC,EAAIrC,IAAMa,EAAQW,EAAM,EAAGa,EAAIzB,EAAgBZ,GAAIqC,IAC1D9E,KAAK6E,OAAOpC,GAAGqC,IAAK,GCtBtBW,EAAc,WAClB,OAAyC,OAArCtC,aAAauC,QAAQ,YAChB,GAEFC,KAAKC,OFSgB3C,EETW,WFSHE,aAAauC,QAAQzC,KETL4C,KAAI,SAACnG,GAAD,OACtDoG,OAAOC,OAAO,IAAIpC,EAAWjE,MFQJ,IAACuD,GELxB+C,EAAWP,IAEXQ,EAAmB,SAAChF,GAAU,IAAD,gBACX+E,GADW,IACjC,gCAAWtG,EAAX,QAAgC,GAAIA,EAAQuB,OAASA,EAAM,OAAOvB,GADjC,gCAO7BwG,EAAa,SAACjF,EAAM2C,EAAMuC,EAAcC,EAAMC,GAClD,IAAMC,EAAa,IAAI3C,EAAQ1C,EAAM2C,EAAMuC,EAAcC,EAAMC,GAC/DL,EAASjD,KAAKuD,GACdtD,EAAK,WAAY2C,KAAKY,UAAUP,KAE5B1E,EAAoB,SAACL,EAAMmD,EAAWC,GAC1C4B,EAAiBhF,GAAMkD,SAASC,EAAWC,GAC3CrB,EAAK,WAAY2C,KAAKY,UAAUP,KAE5BQ,EAA0B,SAACvF,GAC/B,IADwC,EAClCqC,EAAQhB,IACR2B,EAAM7B,IAF4B,cAGlB4D,GAHkB,IAGxC,gCAAWtG,EAAX,QACE,GAAIA,EAAQuB,OAASA,EACnB,IAAK,IAAIwB,EAAIa,EAAOb,EAAI,GAAIA,IAC1B,IAAK,IAAIqC,EAAIrC,IAAMa,EAAQW,EAAM,EAAGa,EAAI,GAAIA,IAC1CpF,EAAQmF,OAAOpC,GAAGqC,IAAK,GAPS,8BASxC9B,EAAK,WAAY2C,KAAKY,UAAUP,KAE5BS,EAAwB,SAACxF,GAC7B,IADsC,EAChCqC,EAAQhB,IACR2B,EAAM7B,IAF0B,cAGhB4D,GAHgB,IAGtC,gCAAWtG,EAAX,QACE,GAAIA,EAAQuB,OAASA,EACnB,IAAK,IAAIwB,EAAIa,EAAOb,EAAI,GAAIA,IAC1B,IAAK,IAAIqC,EAAIrC,IAAMa,EAAQW,EAAM,EAAGa,EAAI,GAAIA,IAC1CpF,EAAQmF,OAAOpC,GAAGqC,IAAK,GAPO,8BAStC9B,EAAK,WAAY2C,KAAKY,UAAUP,KAE5BU,EAAqB,SAACzF,GAC1B,IAAK,IAAI2B,EAAI,EAAGA,EAAIoD,EAASW,OAAQ/D,IACnC,GAAIoD,EAASpD,GAAG3B,OAASA,EAAM,CAC7B+E,EAASY,OAAOhE,EAAG,GACnB,MAEJI,EAAK,WAAY2C,KAAKY,UAAUP,KAO5Ba,EAAoB,WAGpB,IAFJvD,EAEG,uDAFKhB,IACRmB,EACG,uDADUrB,IAIPwC,EAAY9C,EAAa,IAAIE,KAAK,KAAMsB,EAAOG,EAAa,IAClE,OAAOuC,EAASc,QACd,SAACpH,GAAD,OAAaA,EAAQmF,OAAOvB,GAAOG,IAAe/D,EAAQmE,KAAKe,OAG7DmC,EAAoB,WAKpB,IAJJzD,EAIG,uDAJKhB,IACRmB,EAGG,uDAHUrB,IACb7C,EAEG,uDAFK,EACRyH,EACG,uDADQhB,EAEX,GAAc,IAAVzG,EACF,OACGsH,IAAoBC,QAAO,SAACpH,GAAD,OAAaA,EAAQwE,KAAKZ,GAAOG,MAC1DkD,OACDE,IAAoBF,OACtB,IAEC,GAAc,IAAVpH,EAAa,CACpB,IADoB,EACd0H,EAAOzD,EAAUF,EAAOG,GAC1BS,EAAO,EACTgD,EAAM,EAHY,cAIEF,GAJF,IAIpB,2BACE,IADF,IAAWtH,EAAX,QACWuE,EAAM,EAAGA,EAAM,EAAGA,IAAO,CAChC,IAAIlC,EAAOkF,EAAKhD,GACXvE,EAAQmF,OAAO9C,EAAK,IAAIA,EAAK,KAAQrC,EAAQmE,KAAKI,KACvDiD,IACAhD,GAAQxE,EAAQwE,KAAKnC,EAAK,IAAIA,EAAK,IAAM,EAAI,IAT7B,8BAWpB,OAAQmC,EAAOgD,EAAO,IACjB,GAAc,IAAV3H,EAAa,CACtB,IADsB,EAClB2E,EAAO,EACTgD,EAAM,EAFc,cAGAF,GAHA,IAGtB,2BACE,IADF,IAAWtH,EAAX,QACWuE,EAAM,EAAGA,EAAM,GAAIA,IAAO,CACjC,IAAMlC,EAAO,IAAIC,KAAK,KAAMsB,EAAOW,EAAM,GACrCW,EAAY9C,EAAaC,GAAQ,EACnB,IAAd6C,IAAiBA,EAAY,GAC5BlF,EAAQmF,OAAOvB,GAAOW,IAASvE,EAAQmE,KAAKe,KACjDsC,IACAhD,GAAQxE,EAAQwE,KAAKZ,GAAOW,GAAO,EAAI,IAVrB,8BAYtB,OAAQC,EAAOgD,EAAO,MAGpBC,EAAe,WAKf,IAJJ7D,EAIG,uDAJKhB,IACRmB,EAGG,uDAHUrB,IACb7C,EAEG,uDAFK,EACRyH,EACG,uDADQhB,EAEX,GAAc,IAAVzG,EAAa,CACf,IADe,EACXoD,EAAM,EADK,cAEOqE,GAFP,IAEf,2BAAgC,CAAC,IAAtBtH,EAAqB,QAC9BiD,GAAO6C,SAAS9F,EAAQ6E,WAAWjB,GAAOG,KAH7B,8BAKf,OAAOd,EACF,GAAc,IAAVpD,EAAa,CAGtB,IAFA,IAAIsD,EAAO,IAAIb,KAAK,KAAMsB,EAAOG,EAAa,GAC1Cd,EAAM,EAERE,EAAO,IAAIb,KAAKa,EAAKX,UAAY,OACN,IAAvBJ,EAAae,IAFN,qBAGWmD,GAHX,IAGX,gCAAWtG,EAAX,QACEiD,GAAO6C,SACL9F,EAAQ6E,WAAWjC,EAASO,IAAOT,EAAcS,MAL1C,+BASb,IADAA,EAAO,IAAIb,KAAK,KAAMsB,EAAOG,EAAa,KAC7B,CAAC,IAAD,gBACWuC,GADX,IACX,gCAAWtG,EAAX,QACEiD,GAAO6C,SACL9F,EAAQ6E,WAAWjC,EAASO,IAAOT,EAAcS,MAH1C,8BAKX,GAA2B,IAAvBf,EAAae,GAAa,MAC9BA,EAAO,IAAIb,KAAKa,EAAKX,UAAY,OAEnC,OAAOS,EACF,GAAc,IAAVpD,EAAa,CAEtB,IADA,IAAIoD,EAAM,EACDsB,EAAM,EAAGA,EAAM,GAAIA,IAA5B,qBACwB+B,GADxB,IACE,gCAAWtG,EAAX,QACEiD,GAAO6C,SAAS9F,EAAQ6E,WAAWjB,GAAOW,KAF9C,0BAAAmD,KAGA,OAAOzE,IAIL0E,EAAqB,WAKrB,IAJJ/D,EAIG,uDAJKhB,IACRmB,EAGG,uDAHUrB,IACb7C,EAEG,uDAFK,EACRyH,EACG,uDADQhB,EAEX,GAAc,IAAVzG,EAAa,CACf,IADe,EACXoD,EAAM,EADK,cAEOqE,GAFP,IAEf,2BAAgC,CAAC,IAAtBtH,EAAqB,QAC9BiD,GAAOjD,EAAQwE,KAAKZ,GAAOG,GAAc,EAAI,GAHhC,8BAKf,OAAOd,EACF,GAAc,IAAVpD,EAAa,CACtB,IADsB,EAClBoD,EAAM,EACJsE,EAAOzD,EAAUF,EAAOG,GAFR,cAGAuD,GAHA,IAGtB,kCAAWtH,EAAX,sBACqBuH,GADrB,IACE,gCAAWlF,EAAX,QAAyBY,GAAOjD,EAAQwE,KAAKnC,EAAK,IAAIA,EAAK,IAAM,EAAI,GADvE,0BAAAqF,MAHsB,8BAKtB,OAAOzE,EACF,GAAc,IAAVpD,EAAa,CAEtB,IADA,IAAIoD,EAAM,EACDsB,EAAM,EAAGA,EAAM,GAAIA,IAA5B,qBACwB+C,GADxB,IACE,gCAAWtH,EAAX,QAAgCiD,GAAOjD,EAAQwE,KAAKZ,GAAOW,GAAO,EAAI,GADxE,0BAAAmD,KAEA,OAAOzE,IAGL2E,EAAkB,WAAuD,IAAtDhE,EAAqD,uDAA7ChB,IAAYmB,EAAiC,uDAApBrB,IAClDL,EAAO,IAAIC,KAAK,KAAMsB,EAAOG,EAAa,GAC5CmB,EAAY7C,EAAKI,SAAW,EAEhC,OADIyC,EAAY,IAAGA,GAAa,GACzBoB,EAASc,QACd,SAACpH,GAAD,OAAaA,EAAQmF,OAAOvB,GAAOG,IAAe/D,EAAQmE,KAAKe,O,iCCpL9C2C,E,4MACnBhI,MAAQ,CACNyH,SAAU,GACVQ,WAAW,EACXlE,MAAOhB,IACPmB,WAAYrB,K,EAEdqF,MAAQ,WAgBN,OACE,oCACE,kBAACA,EAAA,EAAD,CACEC,KAAM,EAAKnI,MAAMiI,UACjBG,OAAQ,WACN,EAAKzH,SAAS,CAAEsH,WAAW,EAAOI,gBAAiB,MAErDC,WAAW,GAEX,kBAACJ,EAAA,EAAMK,OAAP,CAAcC,aAAW,GACvB,kBAACN,EAAA,EAAM3G,MAAP,kBAEF,kBAAC2G,EAAA,EAAM5G,KAAP,KACE,kBAACmH,EAAA,EAAD,CAAMC,GAAG,aACP,kBAACD,EAAA,EAAKE,MAAN,CAAYC,UAAU,QACpB,kBAACH,EAAA,EAAKI,MAAN,aACA,kBAACJ,EAAA,EAAKK,QAAN,CACEzE,KAAK,SACL0E,YAAY,kBACZrH,KAAK,OACLsH,aACEtC,EAAiB,EAAK1G,MAAMqI,iBAAiB9D,cAKnD,kBAACkE,EAAA,EAAKE,MAAN,CAAYC,UAAU,WACpB,kBAACH,EAAA,EAAKI,MAAN,gBACA,kBAACJ,EAAA,EAAKK,QAAN,CACEzE,KAAK,OACL0E,YAAY,kBACZrH,KAAK,eAKb,kBAACwG,EAAA,EAAMe,OAAP,KACE,kBAACpH,EAAA,EAAD,CAAQV,QAAQ,UAAUW,QApDb,SAACoH,GACpB,IAAMC,EAAOC,SAASC,eAAe,aAC/BxC,EAAOsC,EAAKtC,KAAKlD,MACjB2F,EAAUH,EAAKG,QAAQ3F,MACvBI,EAAQhB,IACRmB,EAAarB,IACnBd,EAAkB,EAAK/B,MAAMqI,gBAAiBiB,EAASzC,GACvD,EAAKlG,SAAS,CACZ8G,SAAUH,IAAoBC,QAC5B,SAACpH,GAAD,OAAcA,EAAQwE,KAAKZ,GAAOG,MAEpC+D,WAAW,IAEb,EAAKvH,MAAM6I,iBAuCL,gBAGA,kBAAC1H,EAAA,EAAD,CACEV,QAAQ,YACRW,QAAS,kBACP,EAAKnB,SAAS,CAAEsH,WAAW,EAAOI,gBAAiB,OAHvD,c,EAsBVtG,kBAAoB,SAACyH,GACnB,EAAK7I,SAAS,CAAEsH,WAAW,IAC3B,EAAKtH,SAAS,CAAE0H,gBAAiBmB,K,EAEnCC,WAAa,SAACjH,GACZ,IAAMuB,EAAQvB,EAAKO,WACbmB,EAAa1B,EAAKM,UAAY,EAEpC,EAAKnC,SAAS,CACZoD,MAAOvB,EAAKO,WACZmB,WAAY1B,EAAKM,UAAY,EAC7B2E,SAAUH,EAAkBvD,EAAOG,GAAYqD,QAC7C,SAACpH,GAAD,OAAcA,EAAQwE,KAAKZ,GAAOG,S,kEApBtC,IAAMH,EAAQtD,KAAKT,MAAM+D,MACnBG,EAAazD,KAAKT,MAAMkE,WAC9BzD,KAAKE,SAAS,CACZ8G,SAAUH,EAAkBvD,EAAOG,GAAYqD,QAC7C,SAACpH,GAAD,OAAcA,EAAQwE,KAAKZ,GAAOG,U,+BAoB9B,IAAD,OACDuD,EAAWhH,KAAKT,MAAMyH,SAC5B,OAAwB,IAApBA,EAASL,OAET,6BACE,mFACA,kBAACvF,EAAA,EAAD,CAAQC,QAAS,kBAAM,EAAKpB,MAAMgJ,iBAAlC,+BAOJ,kBAAC,IAAMC,SAAP,KACE,kBAACC,EAAD,CAAUH,WAAYhJ,KAAKgJ,aAC3B,yBAAK1I,MAAO8I,GACTpC,EAASnB,KAAI,SAACnG,GAAD,OACZ,kBAAC,EAAD,CACEA,QAASA,EACT4B,kBAAmB,EAAKA,kBACxB9B,YAAY,QAIjBQ,KAAKT,MAAMiI,WAAaxH,KAAKyH,a,GA7HHjG,IAAMC,WAkInC2H,EAAqB,CACzBC,QAAS,OACTC,SAAU,QAEZ,SAASH,EAASlJ,GAAQ,IAAD,EACWsJ,mBAAS,IAAIvH,MADxB,mBAChBwH,EADgB,KACLC,EADK,KAEvB,OACE,kBAAC,IAAD,CACEC,SAAUF,EACVG,SAAU,SAAC5H,GAKT0H,EAAa1H,GACb9B,EAAM+I,WAAWjH,M,0NCxJvB6H,SAAW,SAAC5C,EAAU1D,EAAOG,GAC3B,IAD0C,EACpCoG,EAAO,CAAC,CAAC,OAAQ,YADmB,cAEpB7C,GAFoB,IAE1C,2BAAgC,CAAC,IAAtBtH,EAAqB,QAC9BmK,EAAK9G,KAAK,CACRrD,EAAQuB,KACRuE,SAAS9F,EAAQ6E,WAAWjB,GAAOG,OALG,8BAQ1C,OACE,kBAAC,IAAD,CACE/B,MAAO,QACPoI,OAAQ,QACRC,UAAU,WACVC,OAAQ,8CACRH,KAAMA,EACNI,QAAS,CACPC,MAAO,iBACPC,gBAAiB,c,uDAUvB,IAAM7G,EAAQtD,KAAKC,MAAMqD,MAAQtD,KAAKC,MAAMqD,MAAQhB,IAC9CmB,EAAazD,KAAKC,MAAMwD,WAC1BzD,KAAKC,MAAMqD,MACXlB,IACJ,OAAOpC,KAAK4J,SAASnE,IAAenC,EAAOG,O,GAhClBjC,IAAMC,WCDd2I,E,kDACnB,WAAYnK,GAAQ,IAAD,sBACjB,eACA,IAAMqD,EAAQrD,EAAMqD,MAAQrD,EAAMqD,MAAQhB,IACpCmB,EAAaxD,EAAMwD,WAAaxD,EAAMwD,WAAarB,IAHxC,OAIjB,EAAK7C,MAAQ,CACX+D,QACAG,cANe,E,qDAWjB,IAAMuD,EAAWhH,KAAKC,MAAM+G,SACtBzH,EAA2B,EAAnBS,KAAKC,MAAMV,MACnB8K,EAAarK,KAAKC,MAAMoK,WAC1BrK,KAAKC,MAAMoK,WACXlD,EACE+C,EACJG,IAAelD,EAAe,gBAAkB,gBAC5C0C,EAAO,CAAC,CAAC,MAAOK,IACtB,GAAc,IAAV3K,EAEF,IAAK,IAAI+D,EAAQ,EAAGA,GAAStD,KAAKT,MAAM+D,MAAOA,IAC7CuG,EAAK9G,KAAK,CACR,IAAIf,KAAK,KAAMsB,GAAOgH,WAAWC,MAAM,KAAK,GAC5CF,EAAW/G,GAAQ,EAAG/D,EAAOyH,UAIjC,IAAK,IAAI/C,EAAMuG,EAAU,EAAGvG,GAAO,EAAGA,IAAO,CAC3C,IAAIlC,OAAI,EACM,IAAVxC,EAEFwC,EAAO,IAAIC,MACT,IAAIA,MAAOE,UACT,MAAsB+B,EACtB,OAEa,IAAV1E,IAEPwC,EAAO,IAAIC,MACT,IAAIA,MAAOE,UACT,OAA0B+B,EAC1B,QAEN,IAAMX,EAAQvB,EAAKO,WACbmB,EAAa1B,EAAKM,UAAY,EACpCwH,EAAK9G,KAAK,CAAC,GAAD,OACLO,EAAQ,EADH,YACQG,EAAa,GAC7B4G,EAAW/G,EAAOG,EAAYlE,EAAOyH,KAI3C,OACE,kBAAC,IAAD,CACEtF,MAAO,QACPoI,OAAQ,QACRC,UAAU,WACVC,OAAQ,8CACRH,KAAMA,EACNI,QAAS,CACPQ,MAAO,CACLP,gB,GA9D8B1I,IAAMC,WAqE1C+I,EAAU,E,QCrEKE,E,kDACnB,WAAYzK,GAAQ,IAAD,uBACjB,gBAyBFiC,QAAU,SAACxC,GACT,IAAM4D,EAAQ,EAAK/D,MAAM+D,MACnBG,EAAa,EAAKlE,MAAMkE,WACxBwB,EAAavF,EAAQ8E,UAAUlB,GAAOG,GAIxC6B,EADkB,GAFRL,EAAW,GACdA,EAAW,GAEFvF,EAAQ6E,WAAWjB,GAAOG,GAC1C6B,EAAQ,IAAGA,GAAS,MACxB,IAAIqF,EAAK9K,KAAK0F,MAAMD,EAAQ,IAC5B,MAAM,GAAN,OAAUqF,EAAV,YAAgBrF,EAAQ,GAAxB,cAAgCL,EAAW,GAA3C,YAAiDA,EAAW,KAlC5D,IAAM3B,EAAQrD,EAAMqD,MAAQrD,EAAMqD,MAAQhB,IACpCmB,EAAaxD,EAAMwD,WAAaxD,EAAMwD,WAAarB,IAHxC,OAIjB,EAAK7C,MAAQ,CACX+D,QACAG,aACAuD,SAAU/G,EAAM+G,UAPD,E,gEAUE,IAAD,OAClB,IAAKhH,KAAKT,MAAMyH,SAAU,CACxB,IAAIA,EAAWvB,IAAcqB,QAC3B,SAACpH,GAAD,OAAaA,EAAQwE,KAAK,EAAK3E,MAAM+D,OAAO,EAAK/D,MAAMkE,eAEzDuD,EAAS4D,MACP,SAACC,EAAGC,GAAJ,OACED,EAAE9F,aAAa,EAAKxF,MAAM+D,MAAO,EAAK/D,MAAMkE,YAAY,GACxDqH,EAAE/F,aAAa,EAAKxF,MAAM+D,MAAO,EAAK/D,MAAMkE,YAAY,MAE5DzD,KAAKE,SAAS,CACZ8G,gB,+BAiBI,IAAD,OACP,OACE,kBAAC+D,EAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,GAC3B,+BACE,4BACE,2CACA,uCACA,yCAIJ,+BACGlL,KAAKT,MAAMyH,UACVhH,KAAKT,MAAMyH,SAASnB,KAAI,SAACnG,GAAD,OACtB,4BACE,4BAAK,EAAKwC,QAAQxC,IAClB,4BAAKA,EAAQuB,MACb,4BAAKvB,EAAQ4E,KAAK,EAAK/E,MAAM+D,OAAO,EAAK/D,MAAMkE,uB,GAxD9BjC,IAAMC,WCGlB0J,G,yDACnB,WAAYlL,GAAQ,IAAD,uBACjB,gBAeFmL,QAAU,WAAO,IAAD,IAC2C,EAAK7L,MAAtD+D,EADM,EACNA,MAAOG,EADD,EACCA,WAAY4H,EADb,EACaA,UAAWC,EADxB,EACwBA,eAChCzB,EAAO,CACXvC,EAAgBhE,EAAOG,GACvB6D,EAAgB+D,EAAWC,IAEvBtE,EAAW6C,EAAK,GAAGhE,KAAI,SAACnG,GAAD,OAAaA,KAN5B,cAOQmK,EAAK,IAPb,IAOd,2BAA+B,CAAC,IAAD,EAApBnK,EAAoB,QACzB6L,GAAQ,EADiB,cAEFvE,GAFE,IAE7B,oCACmB/F,OAASvB,EAAQuB,OAAMsK,GAAQ,IAHrB,8BAIxBA,GAAOvE,EAASjE,KAAKrD,IAXd,8BAad,OAAOsH,EAASnB,KAAI,SAACnG,GACnB,MAAO,CACLuB,KAAMvB,EAAQuB,KACduK,MAAO9L,EAAQwE,KAAKZ,GAAOG,GAC3BgI,MAAO/L,EAAQwE,KAAKmH,GAAWC,QAjClB,EAqCnBI,OAAS,SAAC3J,GACR,EAAK7B,SAAS,CACZmL,UAAWtJ,EAAKO,WAChBgJ,eAAgBvJ,EAAKM,UAAY,KAtCnC,IAAMiB,EAAQrD,EAAMqD,MAAQrD,EAAMqD,MAAQhB,IACpCmB,EAAaxD,EAAMwD,WAAaxD,EAAMwD,WAAarB,IACnDL,EAAO,IAAIC,KACf,IAAIA,KAAK,KAAMsB,EAAOG,EAAa,GAAGvB,UAAY,OAE9CmJ,EAAYtJ,EAAKO,WACjBgJ,EAAiBvJ,EAAKM,UAAY,EARvB,OASjB,EAAK9C,MAAQ,CACX+D,QACAG,aACA4H,YACAC,kBAbe,E,qDA4CjB,IAAMtE,EAAWhH,KAAKoL,UACtB,OACE,kBAAC,IAAMlC,SAAP,KACE,kBAACyC,EAAD,CACED,OAAQ1L,KAAK0L,OACbL,UAAWrL,KAAKT,MAAM8L,UACtBC,eAAgBtL,KAAKT,MAAM+L,iBAE7B,kBAACP,EAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,GAC3B,+BACE,4BACE,uCACA,sCAAQlL,KAAKT,MAAM8L,UAAY,EAA/B,YACErL,KAAKT,MAAM+L,eAAiB,IAE9B,uCAIJ,+BACGtE,GACCA,EAASnB,KAAI,SAACnG,GAAD,OACX,4BACE,4BAAKA,EAAQuB,MACb,4BAAKvB,EAAQ+L,MAAQ,MAAQ,MAC7B,4BAAK/L,EAAQ8L,MAAQ,MAAQ,iB,GAtENhK,IAAMC,YA+E/C,SAASkK,EAAK1L,GAAQ,IAAD,EACesJ,mBAChC,IAAIvH,KAAK,KAAM/B,EAAMoL,UAAWpL,EAAMqL,eAAiB,IAFtC,mBACZ9B,EADY,KACDC,EADC,KAInB,OACE,kBAAC,IAAD,CACEC,SAAUF,EACVG,SAAU,SAAC5H,GACLA,GAAQ,IAAIC,KACd4J,MAAM,wDAGRnC,EAAa1H,GACb9B,EAAMyL,OAAO3J,O,aCpFA8J,G,4MACnBtM,MAAQ,CAAEyH,SAAU,GAAIzH,MAAO,EAAG8K,WAAYhD,G,kEAE5C,IAAM/D,EAAQhB,IACRmB,EAAarB,IACnBpC,KAAKE,SAAS,CACZ8G,SAAUH,EAAkBvD,EAAOG,GAAYqD,QAC7C,SAACpH,GAAD,OAAaA,EAAQwE,KAAKZ,GAAOG,U,gCAKrC,OAAmC,IAA/BzD,KAAKT,MAAMyH,SAASL,OAAqB,gDAE3C,yBAAKrG,MAAO,CAAEwL,SAAU,IAAKhC,OAAQ,UACnC,kBAAC,EAAD,MACA,kBAAC,EAAD,S,qCAIU,IAAD,OACb,OACE,6BACE,kBAACiC,GAAA,EAAD,CAAaC,aAAW,iBACtB,kBAAC5K,EAAA,EAAD,CACEV,QAAQ,YACRW,QAAS,kBAAM,EAAKnB,SAAS,CAAEX,MAAO,MAFxC,SAMA,kBAAC6B,EAAA,EAAD,CACEV,QAAQ,YACRW,QAAS,kBAAM,EAAKnB,SAAS,CAAEX,MAAO,MAFxC,UAMA,kBAAC6B,EAAA,EAAD,CACEV,QAAQ,YACRW,QAAS,kBAAM,EAAKnB,SAAS,CAAEX,MAAO,MAFxC,YAOF,kBAACwM,GAAA,EAAD,CAAaC,aAAW,iBACtB,kBAAC5K,EAAA,EAAD,CACEV,QAAQ,YACRW,QAAS,kBAAM,EAAKnB,SAAS,CAAEmK,WAAYhD,MAF7C,eAMA,kBAACjG,EAAA,EAAD,CACEV,QAAQ,YACRW,QAAS,kBAAM,EAAKnB,SAAS,CAAEmK,WAAYlD,MAF7C,gBAMA,kBAAC/F,EAAA,EAAD,CACEV,QAAQ,YACRW,QAAS,kBAAM,EAAKnB,SAAS,CAAEmK,WAAYtD,MAF7C,eAQF,kBAAC,EAAD,CACExH,MAAOS,KAAKT,MAAMA,MAClB8K,WAAYrK,KAAKT,MAAM8K,gB,+BAM7B,OACE,yBAAK/J,MAAO8I,IACTpJ,KAAKiM,UACN,yBAAK3L,MAAO,CAAEwL,SAAU,IAAKhC,OAAQ,UAClC9J,KAAKkM,eACN,kBAAC,EAAD,Y,GA7EwB1K,IAAMC,WAmFlC2H,GAAqB,CACzBC,QAAS,OACTC,SAAU,OACV5H,MAAO,Q,UC7CMyK,G,4MA1Cb5M,MAAQ,CACN6M,MAAM,G,EAERV,OAAS,WACP,EAAKxL,SAAS,EAAKX,Q,uDAGX,IAAD,OACP,OACE,6BACE,kBAACwM,GAAA,EAAD,CAAaC,aAAW,iBACtB,kBAAC5K,EAAA,EAAD,CACEV,QAAQ,YACRW,QAAS,kBAAM,EAAKnB,SAAS,CAAEkM,MAAM,MAFvC,SAMA,kBAAChL,EAAA,EAAD,CACEV,QAAQ,YACRW,QAAS,kBAAM,EAAKnB,SAAS,CAAEkM,MAAM,MAFvC,SAOF,kBAACC,GAAA,EAAD,CACErB,SAAO,EACPtK,QAAQ,UACR4L,IAAKvF,IACLwF,MAAK,UAAKxF,IAAL,OAEN/G,KAAKT,MAAM6M,MACV,kBAAC,EAAD,CACEtD,aAAc9I,KAAK0L,OACnBzC,aAAc,kBAAM,EAAK/I,SAAS,CAAEkM,MAAM,QAG5CpM,KAAKT,MAAM6M,MAAQ,kBAAC,GAAD,W,GArCX5K,IAAMC,WCDJ+K,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,+BCuESC,G,4MAnFbC,aAAe,SAACrE,GAEd,IADA,IAAIsE,EAAepE,SAASqE,iBAAiB,aACpCpK,EAAI,EAAGA,EAAI,EAAGA,IAAKmK,EAAanK,GAAGqK,QAAUrK,GAAK,G,EAE7DsK,SAAW,SAACzE,GACSE,SAASqE,iBAAiB,aAChCG,SAAQ,SAACC,GAAD,OAAeA,EAASH,SAAU,M,EAEzDI,aAAe,SAAC5E,GACd,IADoB,EACdC,EAAOD,EAAE6E,OAAOC,cAClBxE,EAAcL,EAAKK,YAAY7F,MAC/BsK,EAAc9E,EAAK9E,KAAKV,MACxBuK,EAAa/E,EAAKrC,IAAInD,MACtBwK,EAAchF,EAAKtC,KAAKlD,MACxBiD,EAAe,GACf4G,EAAepE,SAASqE,iBAAiB,aAPzB,cAQGD,GARH,IAQpB,gCAAWK,EAAX,QAAqCjH,EAAapD,KAAKqK,EAASH,UAR5C,8BASpB/G,EAAW6C,EAAayE,EAAarH,EAAcuH,EAAaD,I,uDAIhE,OACE,kBAACzF,EAAA,EAAD,CAAM1H,MAAO,CAAEqB,OAAQ,SACrB,kBAACqG,EAAA,EAAKE,MAAN,CAAYC,UAAU,kBACpB,kBAACH,EAAA,EAAKI,MAAN,qBACA,kBAACJ,EAAA,EAAKK,QAAN,CACEzE,KAAK,OACL0E,YAAY,qBACZrH,KAAK,iBAGT,2BACE2C,KAAK,QACL3C,KAAK,OACLiC,MAAM,QACN7B,QAASrB,KAAKkN,SAAS3L,KAAKvB,QAE7B,QACD,2BACE4D,KAAK,QACL3C,KAAK,OACLiC,MAAM,SACN7B,QAASrB,KAAK8M,aAAavL,KAAKvB,QAEjC,SACD,wBAAIiI,GAAG,QACL,4BACE,2BAAOrE,KAAK,WAAWpD,UAAU,WAAW0C,MAAO,IADrD,WAGA,4BACE,2BAAOU,KAAK,WAAWpD,UAAU,WAAW0C,MAAO,IADrD,YAGA,4BACE,2BAAOU,KAAK,WAAWpD,UAAU,WAAW0C,MAAO,IADrD,cAGA,4BACE,2BAAOU,KAAK,WAAWpD,UAAU,WAAW0C,MAAO,IADrD,aAGA,4BACE,2BAAOU,KAAK,WAAWpD,UAAU,WAAW0C,MAAO,IADrD,WAGA,4BACE,2BAAOU,KAAK,WAAWpD,UAAU,WAAW0C,MAAO,IADrD,aAGA,4BACE,2BAAOU,KAAK,WAAWpD,UAAU,WAAW0C,MAAO,IADrD,YAIF,2BAAOU,KAAK,OAAO3C,KAAK,OAAOqH,YAAY,oBAC3C,2BAAO1E,KAAK,OAAO3C,KAAK,MAAMqH,YAAY,cAE1C,kBAAClH,EAAA,EAAD,CACEV,QAAQ,UACRkD,KAAK,SACLvC,QAASrB,KAAKqN,aAAa9L,KAAKvB,MAChC2N,KAAK,oBAJP,oB,GAxEiBnM,IAAMC,WCJVmM,G,uKAEjB,OAAO,wC,GAFuBpM,IAAMC,WCEnBoM,G,4MACnBtO,MAAQ,CAAEyH,SAAU,I,kEAElBhH,KAAKE,SAAS,CAAE8G,SAAUvB,Q,+BAG1B,OACE,yBAAKnF,MAAO8I,IACTpJ,KAAKT,MAAMyH,SAASnB,KAAI,SAACnG,GAAD,OACvB,kBAAC,EAAD,CAAaA,QAASA,Y,GATU8B,IAAMC,WAgB1C2H,GAAqB,CACzBC,QAAS,OACTC,SAAU,Q,SClBSwE,G,4MACnBvO,MAAQ,CACNmI,MAAM,G,uDAEE,IAAD,OACP,OAAI1H,KAAKT,MAAMmI,KAEX,kBAACqG,GAAA,EAAD,CACErN,QAASV,KAAKC,MAAMS,QACpBsN,QAAS,kBAAM,EAAK9N,SAAS,CAAEwH,MAAM,KACrCuG,aAAW,GAEX,kBAACF,GAAA,EAAMG,QAAP,KAAgBlO,KAAKC,MAAMkO,SAI1B,kBAAC,IAAMjF,SAAP,U,GAhBmC1H,IAAMC,WCA9C2M,G,4MACJhD,QAAU,WASR,IARA,IAAM1L,EAAU,EAAKO,MAAMP,QAErBmK,EAAO,CACX,CACE,CAAEjG,KAAM,OAAQqE,GAAI,QACpB,CAAErE,KAAM,SAAUqE,GAAI,mBAGjBxF,EAAI,EAAGA,EAAI,GAAIA,IACtB,IAAK,IAAIqC,EAAI,EAAGA,EAAIzB,EAAgBZ,GAAIqC,IAEpCpF,EAAQmF,OAAOpC,GAAGqC,IAClBpF,EAAQmE,KAAKwK,GAAqB5L,EAAG,KAAMqC,KAE3C+E,EAAK9G,KAAK,CACR,IAAIf,KAAK,KAAMS,EAAGqC,EAAI,GACtBU,SAAS9F,EAAQ6E,WAAW9B,GAAGqC,MAIvC,OAAO+E,G,uDAGP,OACE,6BACE,6BACE,kBAAC,IAAD,CAGEE,UAAU,WACVC,OAAQ,8CACRH,KAAM7J,KAAKoL,UACXnB,QAASA,W,GAlCEzI,IAAMC,WAyCvB4M,GAAuB,SAAC5L,EAAGqI,EAAGhG,GAElC,OADAA,IACOhD,EAAa,IAAIE,KAAK8I,EAAGrI,EAAGqC,EAAI,KAE1BsJ,MACTnE,GAAU,CAEdH,OAAQ,IACRwE,SAAU,CACRC,UAAW,CACTC,OAAQ,UACRC,cAAe,GACfC,YAAa,IAGjBC,OAAQ,CAAC,UAAW,Y,+MCxDpB/E,SAAW,WAGT,IAHgB,IAAD,EACEwB,GAAQ,EAAKnL,MAAMP,SAA5BmL,EADO,EACPA,EAAGC,EADI,EACJA,EACLjB,EAAO,CAAC,CAAC,MAAO,YACbjH,EAAI,EAAGA,EAAIiI,EAAElE,OAAQ/D,IAC5BiH,EAAK9G,KAAK,CAAC8H,EAAEjI,GAAIkI,EAAElI,KAGrB,OACE,kBAAC,IAAD,CACElB,MAAO,QACPoI,OAAQ,QACRC,UAAU,WACVC,OAAQ,8CACRH,KAAMA,EACNI,QAAS,CACPQ,MAAO,CACLP,MAAO,kBAGX0E,UAAW,CAAE,cAAe,Q,uDAKhC,OAAO,6BAAM5O,KAAK4J,gB,GAzBOpI,IAAMC,WA4B7B2J,GAAU,SAAC1L,GAaf,IAZA,IAAI0G,GAAO,IAAIpE,MAAOE,UAClB2I,EAAI,GACNC,EAAI,GACAjH,EAAO,CACX,SACA,SACA,UACA,YACA,WACA,SACA,YAEOjB,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAIb,EAAO,IAAIC,KAAKoE,GACd9C,EAAQvB,EAAKO,WACbmB,EAAa1B,EAAKM,UAAY,EACpCyI,EAAE/H,KAAKyC,SAAS9F,EAAQ6E,WAAWjB,GAAOG,KAC1C,IAAImB,EAAY7C,EAAKI,SACrB0I,EAAE9H,KAAKc,EAAKe,IACZwB,GAAQ,MAEV,MAAO,CAAEyE,IAAGC,MC9BO+D,G,4MACnBC,yBAA2B,WACzB,IAAMxL,EAAQhB,IACRmB,EAAarB,IACb1C,EAAU,EAAKO,MAAMP,QAC3B,OAAIA,EAAQmF,OAAOvB,GAAOG,GAEtB,kBAACrC,EAAA,EAAD,CACEV,QAAQ,UACRW,QAAS,SAACoH,GACRjC,EAAwB9G,EAAQuB,OAElC0M,KAAK,6BALP,cAYA,6BACE,kBAACvM,EAAA,EAAD,CACEV,QAAQ,OACRW,QAAS,SAACoH,GACRhC,EAAsB/G,EAAQuB,OAEhC0M,KAAK,8BALP,YASA,kBAACvM,EAAA,EAAD,CACEV,QAAQ,SACRW,QAAS,SAACoH,GACR/B,EAAmBhH,EAAQuB,OAE7B0M,KAAK,8BALP,Y,EAYRoB,UAAY,WACV,IAAMrP,EAAU,EAAKO,MAAMP,QACrB4D,EAAQhB,IACRmB,EAAarB,IACnB,IAAK1C,EAAQmF,OAAOvB,GAAOG,GAAa,OAAO,0CAC/C,IAAMmB,EAAY9C,IAClB,OAAKpC,EAAQmE,KAAKe,GACXlF,EAAQwE,KAAKZ,GAAOG,GACzB,0DAC0B/D,EAAQ6E,WAAWjB,GAAOG,GADpD,iCACwF/D,EAAQ4E,KAAKhB,GAAOG,IAAe,KAG3H,uDANmC,oD,EASvCuL,gBAAkB,WAEhB,IAAMtP,EAAU,CAAC,EAAKO,MAAMP,SAC5B,OACE,6BACE,kBAACqM,GAAA,EAAD,CAAaC,aAAW,iBACtB,kBAAC5K,EAAA,EAAD,CACEV,QAAQ,YACRW,QAAS,kBAAM,EAAKnB,SAAS,CAAEX,MAAO,MAFxC,SAMA,kBAAC6B,EAAA,EAAD,CACEV,QAAQ,YACRW,QAAS,kBAAM,EAAKnB,SAAS,CAAEX,MAAO,MAFxC,UAMA,kBAAC6B,EAAA,EAAD,CACEV,QAAQ,YACRW,QAAS,kBAAM,EAAKnB,SAAS,CAAEX,MAAO,MAFxC,YAOF,kBAACwM,GAAA,EAAD,CAAaC,aAAW,iBACtB,kBAAC5K,EAAA,EAAD,CACEV,QAAQ,YACRW,QAAS,kBAAM,EAAKnB,SAAS,CAAEmK,WAAYhD,MAF7C,eAMA,kBAACjG,EAAA,EAAD,CACEV,QAAQ,YACRW,QAAS,kBAAM,EAAKnB,SAAS,CAAEmK,WAAYlD,MAF7C,gBAMA,kBAAC/F,EAAA,EAAD,CACEV,QAAQ,YACRW,QAAS,kBAAM,EAAKnB,SAAS,CAAEmK,WAAYtD,MAF7C,eAQF,kBAAC,EAAD,CACExH,MAAO,EAAKA,MAAMA,MAClB8K,WAAY,EAAK9K,MAAM8K,WACvBrD,SAAUtH,M,EAkBlBH,MAAQ,CAAEA,MAAO,EAAG8K,WAAYhD,G,0DAZ9B,IAAM3H,EAAUM,KAAKC,MAAMP,QACrBuP,EAASvP,EAAQiF,cACvB,OAAe,IAAXsK,EACK,kBAAC,GAAD,CAAOvO,QAAQ,UAAUyN,OAAO,cACpB,IAAZc,EAEL,kBAAC,GAAD,CACEvO,QAAQ,SACRyN,OAAM,UAAKzO,EAAQuB,KAAb,kCAJP,I,+BAWL,IAAMvB,EAAUM,KAAKC,MAAMP,QAE3B,OACE,6BACGM,KAAKkP,YACN,yBACE5O,MAAO,CACL+I,QAAS,OACT8F,oBAAqB,YAGvB,kBAAC,EAAD,CAAazP,QAASA,EAASS,MAAM,IACrC,kBAAC,GAAD,CAAUG,MAAO,CAAE8O,eAAgB,UAAY1P,QAASA,KAE1D,yBAAKY,MAAO+O,IACTrP,KAAKgP,kBACN,kBAAC,GAAD,CAAgBtP,QAASA,IACzB,kBAAC4P,GAAD,CAAU5P,QAASA,IACnB,kBAAC6P,GAAD,CAAqB7P,QAASA,KAE/BM,KAAK8O,gC,GAlJ6BtN,IAAMC,WAwJjD,SAAS6N,GAASrP,GAKhB,IAJA,IAAMP,EAAUO,EAAMP,QAElB8P,EAAQ,GACR3M,EAAO,IAAIb,KACNY,EAAId,IAAgB0N,EAAM7I,OAHnB,EAGqC/D,GAAKA,EAAI,GAAK,EAC7DlD,EAAQmE,KAAKjB,IACf4M,EAAMzM,KAAKF,GAEbA,EAAO,IAAIb,KAAKa,EAAKX,UAAY,OAGnC,OACE,kBAAC6I,EAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,GAC3B,+BACE,4BACE,oCACA,2CACA,yCAIJ,+BACGsE,EAAM3J,KAAI,SAAC9D,GAAD,OACT,4BACE,4BAAKA,EAAK0N,gBACV,4BACG/P,EAAQwE,KAAK5B,EAASP,IAAOK,EAAcL,IACxCrC,EAAQ2F,YAAY/C,EAASP,GAAOK,EAAcL,IAClD,MAEN,4BAAKrC,EAAQ4E,KAAKhC,EAASP,IAAOK,EAAcL,WAO5D,IAAMsN,GAAY,CAChBhG,QAAS,OACT8F,oBAAqB,WAGvB,SAASI,GAAoBtP,GAG3B,IAFA,IAAMP,EAAUO,EAAMP,QAClBmG,EAAM,IAAI6J,IACLjN,EAAI,EAAGA,EAAI,GAAIA,IACtB,IAAK,IAAIqC,EAAI,EAAGA,EAAI,GAAIA,IACtB,GAA2B,KAAvBpF,EAAQ4E,KAAK7B,GAAGqC,GAAW,CAC7B,IAAM7B,EAAMvD,EAAQ4E,KAAK7B,GAAGqC,GACxB6K,EAAM9J,EAAI+J,IAAI3M,GAAO4C,EAAIgK,IAAI5M,GAAO,EACxC0M,IACA9J,EAAIiK,IAAI7M,EAAK0M,GAEnB,IAXkC,EAW5B9F,EAAO,CAAC,CAAC,UAAW,eAXQ,cAYPhE,GAZO,IAYlC,2BAAgC,CAAC,IAAD,yBAAtBgD,EAAsB,KAAb8G,EAAa,KAC9B9F,EAAK9G,KAAK,CAAC8F,EAAS8G,KAbY,8BAelC,OAAoB,IAAhB9F,EAAKlD,OAAqB,kBAAC,IAAMuC,SAAP,MAE5B,kBAAC,IAAD,CACExH,MAAO,QACPoI,OAAQ,QACRC,UAAU,WACVC,OAAQ,8CACRH,KAAMA,EACNI,QAAS,CACPC,MAAO,gBACPC,gBAAiB,a,ICrOJ4F,G,4MACnBxQ,MAAQ,CAAEA,MAAO,EAAG8K,WAAYhD,G,uDACtB,IAAD,OACP,OACE,6BACE,kBAAC0E,GAAA,EAAD,CAAaC,aAAW,iBACtB,kBAAC5K,EAAA,EAAD,CACEV,QAAQ,YACRW,QAAS,kBAAM,EAAKnB,SAAS,CAAEX,MAAO,MAFxC,SAMA,kBAAC6B,EAAA,EAAD,CACEV,QAAQ,YACRW,QAAS,kBAAM,EAAKnB,SAAS,CAAEX,MAAO,MAFxC,UAMA,kBAAC6B,EAAA,EAAD,CACEV,QAAQ,YACRW,QAAS,kBAAM,EAAKnB,SAAS,CAAEX,MAAO,MAFxC,YAOF,kBAACwM,GAAA,EAAD,CAAaC,aAAW,iBACtB,kBAAC5K,EAAA,EAAD,CACEV,QAAQ,YACRW,QAAS,kBAAM,EAAKnB,SAAS,CAAEmK,WAAYhD,MAF7C,eAMA,kBAACjG,EAAA,EAAD,CACEV,QAAQ,YACRW,QAAS,kBAAM,EAAKnB,SAAS,CAAEmK,WAAYlD,MAF7C,gBAMA,kBAAC/F,EAAA,EAAD,CACEV,QAAQ,YACRW,QAAS,kBAAM,EAAKnB,SAAS,CAAEmK,WAAYtD,MAF7C,eAQF,kBAAC,EAAD,CACExH,MAAOS,KAAKT,MAAMA,MAClB8K,WAAYrK,KAAKT,MAAM8K,aAEzB,kBAAC2F,GAAD,MACA,kBAACC,GAAD,CAAS5F,WAAYrK,KAAKT,MAAM8K,kB,GAnDL7I,IAAMC,WAwDzC,SAASuO,KACP,IAAMhJ,EAAWvB,IACjBuB,EAAS4D,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAE/K,eAAiB8K,EAAE9K,kBAC7C,IAH2B,EAGrB8J,EAAO,CAAC,CAAC,UAAW,yBAHC,cAIL7C,GAJK,IAI3B,2BAAgC,CAAC,IAAtBtH,EAAqB,QAC1BoL,EAAIpL,EAAQK,eACZ+K,EAAI,GAAGjB,EAAK9G,KAAK,CAACrD,EAAQuB,KAAM6J,KANX,8BAQ3B,OACE,kBAAC,IAAD,CACEpJ,MAAO,QACPoI,OAAQ,QACRC,UAAU,WACVC,OAAQ,8CACRH,KAAMA,EACNI,QAAS,CACPQ,MAAO,CACLP,MAAO,mBAMjB,SAAS+F,GAAQhQ,GAmBf,IAlBA,IAYM4J,EAAO,CACX,CACE,CAAEjG,KAAM,OAAQqE,GAAI,QACpB,CAAErE,KAAM,SAAUqE,GAAI,0BAGjBxF,EAAI,EAAGA,EAAI,GAAIA,IACtB,IAAK,IAAIqC,EAAI,EAAGA,EAAIzB,EAAgBZ,EAAG,MAAOqC,IAC5C+E,EAAK9G,KAAK,CAAC,IAAIf,KAAK,KAAMS,EAAGqC,EAAI,GAAI7E,EAAMoK,WAAW5H,EAAGqC,KAG7D,OACE,kBAAC,IAAD,CACEiF,UAAU,WACVC,OAAQ,8CACRH,KAAMA,EACNI,QA5BY,CACdC,MAAO,WACPJ,OAAQ,IACRwE,SAAU,CACRC,UAAW,CACTC,OAAQ,UACRC,cAAe,GACfC,YAAa,IAGjBC,OAAQ,CAAC,UAAW,cC/CxB,SAASuB,KAAQ,IACTnH,EAAgBoH,eAAhBpH,YACN,OAAO,kBAAC,GAAD,CAAerJ,QAASuG,EAAiB8C,KAvClDqH,IAASC,OACP,kBAAC,IAAD,CAAQC,SAAS,oBACf,kBAAC,IAAMC,WAAP,KACE,kBAACC,GAAA,EAAD,CAAQnQ,GAAG,UAAUK,QAAQ,QAC3B,kBAAC8P,GAAA,EAAOC,MAAR,CAAc9C,KAAK,oBAAnB,QACA,kBAAC+C,GAAA,EAAD,CAAKlQ,UAAU,WACb,kBAACkQ,GAAA,EAAIC,KAAL,CAAUhD,KAAK,wBAAf,OAEA,kBAAC+C,GAAA,EAAIC,KAAL,CAAUhD,KAAK,0BAAf,SACA,kBAAC+C,GAAA,EAAIC,KAAL,CAAUhD,KAAK,6BAAf,kBAIJ,kBAAC,KAAD,KACE,kBAAC,KAAD,CAAOiD,OAAK,EAACC,KAAK,QAChB,kBAAC,GAAD,OAEF,kBAAC,KAAD,CAAOD,OAAK,EAACC,KAAK,UAChB,kBAAC,GAAD,OAEF,kBAAC,KAAD,CAAOD,OAAK,EAACC,KAAK,SAChB,kBAAC,GAAD,OAEF,kBAAC,KAAD,CAAOD,OAAK,EAACC,KAAK,aAChB,kBAAC,GAAD,OAEF,kBAAC,KAAD,CAAOD,OAAK,EAACC,KAAI,0BACf,kBAACX,GAAD,OAEF,kBAAC,KAAD,CAAOU,OAAK,EAACC,KAAK,KAChB,kBAAC,GAAD,UAKRlI,SAASC,eAAe,ST6EpB,kBAAmBkI,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLC,QAAQD,MAAMA,EAAME,c","file":"static/js/main.cbcdeed4.chunk.js","sourcesContent":["import Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\n// import pic from \"../assets/sports1.png\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nexport default class RoutineCard extends React.Component {\r\n  state = { doneButton: false };\r\n  componentDidMount() {\r\n    if (this.props.doneButton) this.setState({ doneButton: true });\r\n  }\r\n  routinePercentage = (routine) => {\r\n    let timesShouldDone = routine.getTimesShouldDone();\r\n    return timesShouldDone === 0\r\n      ? 0\r\n      : Math.round((routine.numTimesDone() * 100) / timesShouldDone);\r\n  };\r\n\r\n  render() {\r\n    const routine = this.props.routine;\r\n    const zoom = this.props.zoom;\r\n    return (\r\n      <Card bg=\"info\" style={cardStyle} className=\"text-center\">\r\n        <Card.Img variant=\"top\" src={routine.imageLink}></Card.Img>\r\n\r\n        <Card.Body>\r\n          <Card.Title>\r\n            <Link style={{ color: \"black\" }} to={`/routines/${routine.name}`}>\r\n              {routine.name}\r\n            </Link>\r\n          </Card.Title>\r\n          {zoom && (\r\n            <Card.Text>\r\n              {`${routine.numTimesDone()}/${routine.getTimesShouldDone()}`}\r\n              <br></br>\r\n              {`${this.routinePercentage(routine)}%`}\r\n              <br></br>\r\n              {`${routine.getTotalTimeSpent()} Minutes Spent`}\r\n            </Card.Text>\r\n          )}\r\n          {this.state.doneButton && (\r\n            <Button\r\n              variant=\"danger\"\r\n              onClick={this.props.markRoutineAsDone.bind(this, routine.name)}\r\n            >\r\n              Mark as Done\r\n            </Button>\r\n          )}\r\n          {!zoom && (\r\n            <Button variant=\"success\">\r\n              <Link style={{ color: \"black\" }} to={`/routines/${routine.name}`}>\r\n                See More\r\n              </Link>\r\n            </Button>\r\n          )}\r\n        </Card.Body>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\nconst cardStyle = {\r\n  width: \"250px\",\r\n  margin: \"10px\",\r\n  borderRadius: \"8px\",\r\n  border: \"2px solid\",\r\n};\r\n","const FOUR_HOURS = 4 * 60 * 60 * 1000;\r\n\r\nconst getDayOfWeek = (date = new Date()) => {\r\n  date = new Date(date.getTime() - FOUR_HOURS);\r\n  let today = date.getDay() - 1;\r\n  if (today < 0) today += 7;\r\n  return today;\r\n};\r\nconst getDayOfMonth = (date = new Date(new Date().getTime() - FOUR_HOURS)) =>\r\n  date.getDate() - 1;\r\nconst getMonth = (date = new Date(new Date().getTime() - FOUR_HOURS)) =>\r\n  date.getMonth();\r\n\r\nconst getArray = (n, m, defaultVal) => {\r\n  let ans = [];\r\n  for (let i = 0; i < n; i++) {\r\n    let curr = [];\r\n    for (let j = 0; j < m; j++) curr.push(defaultVal);\r\n    ans.push(curr);\r\n  }\r\n  return ans;\r\n};\r\nconst readFromLocalStorage = (key) => localStorage.getItem(key);\r\nconst save = (key, value) => localStorage.setItem(key, value);\r\nconst getDaysInMonths = (month, year = 2020) =>\r\n  new Date(year, month + 1, 0).getDate();\r\nconst getWeekOf = (month, dayOfMonth) => {\r\n  let curr = new Date(2020, month, dayOfMonth + 1);\r\n  let ans = [];\r\n  while (true) {\r\n    curr = new Date(curr.getTime() + 24 * 60 * 60 * 1000);\r\n    if (getDayOfWeek(curr) === 0) break;\r\n    ans.push([getMonth(curr), getDayOfMonth(curr)]);\r\n  }\r\n  ans.reverse();\r\n  curr = new Date(2020, month, dayOfMonth + 1);\r\n  while (true) {\r\n    ans.push([getMonth(curr), getDayOfMonth(curr)]);\r\n    if (getDayOfWeek(curr) === 0) break;\r\n    curr = new Date(curr.getTime() - 24 * 60 * 60 * 1000);\r\n  }\r\n  ans.reverse();\r\n  return ans;\r\n};\r\nexport {\r\n  getDayOfWeek,\r\n  getDayOfMonth,\r\n  getMonth,\r\n  getArray,\r\n  readFromLocalStorage,\r\n  save,\r\n  getDaysInMonths,\r\n  getWeekOf,\r\n};\r\n","import {\r\n  getDayOfMonth,\r\n  getMonth,\r\n  getArray,\r\n  getDayOfWeek,\r\n  getDaysInMonths,\r\n} from \"./helpers\";\r\nexport default class Routine {\r\n  constructor(\r\n    name,\r\n    type,\r\n    days = [false, false, false, false, false, false, false],\r\n    estimation,\r\n    imageLink = \"\",\r\n    tag\r\n  ) {\r\n    this.name = name;\r\n    this.type = type;\r\n    this.days = days;\r\n    this.estimation = estimation;\r\n    this.imageLink = imageLink;\r\n    this.tag = tag;\r\n    this.done = getArray(12, 31, false);\r\n    this.info = getArray(12, 31, \"\");\r\n    this.active = getArray(12, 31, false);\r\n    this.timeNeeded = getArray(12, 31, 0);\r\n    this.touchTime = getArray(12, 31, [0, 0]);\r\n    const month = getMonth();\r\n    const day = getDayOfMonth();\r\n    for (let m = month; m < 12; m++)\r\n      for (let d = m === month ? day : 0; d < getDaysInMonths(m); d++)\r\n        this.active[m][d] = true;\r\n  }\r\n  toggle = () => {\r\n    let month = getMonth(),\r\n      day = getDayOfMonth();\r\n    this.done[month][day] = !this.done[month][day];\r\n  };\r\n  markDone = (addedInfo, minutes) => {\r\n    let month = getMonth(),\r\n      day = getDayOfMonth();\r\n    this.done[month][day] = true;\r\n    this.info[month][day] = addedInfo;\r\n    this.timeNeeded[month][day] = minutes;\r\n    const today = new Date();\r\n    this.touchTime[month][day] = [today.getHours(), today.getMinutes()];\r\n  };\r\n  // returns 1 if did today, -1 if should have been done but didn't and 0 otherwise\r\n  todayStatus = () => {\r\n    const month = getMonth();\r\n    const dayOfMonth = getDayOfMonth();\r\n    const dayOfWeek = getDayOfWeek();\r\n    if (this.days[dayOfWeek] && this.active[month][dayOfMonth])\r\n      return this.done[month][dayOfMonth] ? 1 : -1;\r\n    else return 0;\r\n  };\r\n  numTimesDone = () => {\r\n    let ans = 0;\r\n    for (let m = 0; m < 12; m++)\r\n      for (let d = 0; d < 31; d++) ans += this.done[m][d] ? 1 : 0;\r\n    return ans;\r\n  };\r\n  getStartTime = (month, dayOfMonth, comp = false) => {\r\n    const finishTime = this.touchTime[month][dayOfMonth];\r\n    const hrEnd = finishTime[0],\r\n      minEnd = finishTime[1];\r\n    const toNum = hrEnd * 60 + minEnd;\r\n    let ans = toNum - this.timeNeeded[month][dayOfMonth];\r\n    if (ans < 0) ans += 24 * 60;\r\n    if (comp && ans < 4 * 60) ans += 24 * 60;\r\n    return ans;\r\n  };\r\n  getDuration = (month, dayOfMonth) => {\r\n    let start = this.getStartTime(month, dayOfMonth);\r\n    return `${Math.floor(start / 60)}:${start % 60} - ${\r\n      this.touchTime[month][dayOfMonth][0]\r\n    }:${this.touchTime[month][dayOfMonth][1]}`;\r\n  };\r\n  getTimesShouldDone = () => {\r\n    let ans = 0;\r\n    // revise the fact that the day stars at 4 am\r\n    for (let m = 0; m < 12; m++)\r\n      for (let d = 0; d < 31; d++) {\r\n        let date = new Date(2020, m, d + 1);\r\n        if (date > new Date()) break;\r\n        date = new Date(2020, m, d + 2); // adjusting for 4 hrs\r\n        if (this.active[m][d] && this.days[getDayOfWeek(date)]) ans++;\r\n      }\r\n    return ans;\r\n  };\r\n  getTotalTimeSpent = () => {\r\n    let ans = 0;\r\n    for (let m = 0; m < 12; m++)\r\n      for (let d = 0; d < 31; d++) ans += parseInt(this.timeNeeded[m][d]);\r\n    return ans;\r\n  };\r\n}\r\n","import Routine from \"./Routine\";\r\nimport {\r\n  readFromLocalStorage,\r\n  save,\r\n  getDayOfMonth,\r\n  getMonth,\r\n  getDayOfWeek,\r\n  getWeekOf,\r\n} from \"./helpers\";\r\nconst getRoutines = () => {\r\n  if (localStorage.getItem(\"routines\") === null) {\r\n    return [];\r\n  }\r\n  return JSON.parse(readFromLocalStorage(\"routines\")).map((routine) =>\r\n    Object.assign(new Routine(), routine)\r\n  );\r\n};\r\nconst ROUTINES = getRoutines();\r\n\r\nconst getRoutineByName = (name) => {\r\n  for (const routine of ROUTINES) if (routine.name === name) return routine;\r\n};\r\nconst toggleRoutineByName = (name) => {\r\n  getRoutineByName(name).toggle();\r\n  save(\"routines\", JSON.stringify(ROUTINES));\r\n};\r\nconst addRoutine = (name, type, weekSchedule, time, url) => {\r\n  const newRoutine = new Routine(name, type, weekSchedule, time, url);\r\n  ROUTINES.push(newRoutine);\r\n  save(\"routines\", JSON.stringify(ROUTINES));\r\n};\r\nconst markRoutineAsDone = (name, addedInfo, minutes) => {\r\n  getRoutineByName(name).markDone(addedInfo, minutes);\r\n  save(\"routines\", JSON.stringify(ROUTINES));\r\n};\r\nconst deactivateRoutineByName = (name) => {\r\n  const month = getMonth();\r\n  const day = getDayOfMonth();\r\n  for (const routine of ROUTINES)\r\n    if (routine.name === name) {\r\n      for (let m = month; m < 12; m++)\r\n        for (let d = m === month ? day : 0; d < 31; d++)\r\n          routine.active[m][d] = false;\r\n    }\r\n  save(\"routines\", JSON.stringify(ROUTINES));\r\n};\r\nconst activateRoutineByName = (name) => {\r\n  const month = getMonth();\r\n  const day = getDayOfMonth();\r\n  for (const routine of ROUTINES)\r\n    if (routine.name === name) {\r\n      for (let m = month; m < 12; m++)\r\n        for (let d = m === month ? day : 0; d < 31; d++)\r\n          routine.active[m][d] = true;\r\n    }\r\n  save(\"routines\", JSON.stringify(ROUTINES));\r\n};\r\nconst deletRoutineByName = (name) => {\r\n  for (let i = 0; i < ROUTINES.length; i++)\r\n    if (ROUTINES[i].name === name) {\r\n      ROUTINES.splice(i, 1);\r\n      break;\r\n    }\r\n  save(\"routines\", JSON.stringify(ROUTINES));\r\n};\r\nconst getAcitveRoutines = () => {\r\n  const month = getMonth();\r\n  const dayOfMonth = getDayOfMonth();\r\n  return ROUTINES.filter((routine) => routine.active[month][dayOfMonth]);\r\n};\r\nconst getTodaysRoutines = (\r\n  month = getMonth(),\r\n  dayOfMonth = getDayOfMonth()\r\n) => {\r\n  // const month = getMonth();\r\n  // const dayOfMonth = getDayOfMonth();\r\n  const dayOfWeek = getDayOfWeek(new Date(2020, month, dayOfMonth + 2)); //1=> 1 indexed, 1=> 4 am\r\n  return ROUTINES.filter(\r\n    (routine) => routine.active[month][dayOfMonth] && routine.days[dayOfWeek]\r\n  );\r\n};\r\nconst getPercentageDone = (\r\n  month = getMonth(),\r\n  dayOfMonth = getDayOfMonth(),\r\n  state = 0,\r\n  routines = ROUTINES\r\n) => {\r\n  if (state === 0)\r\n    return (\r\n      (getTodaysRoutines().filter((routine) => routine.done[month][dayOfMonth])\r\n        .length /\r\n        getTodaysRoutines().length) *\r\n      100\r\n    );\r\n  else if (state === 1) {\r\n    const week = getWeekOf(month, dayOfMonth);\r\n    let done = 0,\r\n      all = 0;\r\n    for (const routine of routines)\r\n      for (let day = 0; day < 7; day++) {\r\n        let date = week[day];\r\n        if (!routine.active[date[0]][date[1]] || !routine.days[day]) continue;\r\n        all++;\r\n        done += routine.done[date[0]][date[1]] ? 1 : 0;\r\n      }\r\n    return (done / all) * 100;\r\n  } else if (state === 2) {\r\n    let done = 0,\r\n      all = 0;\r\n    for (const routine of routines)\r\n      for (let day = 0; day < 31; day++) {\r\n        const date = new Date(2020, month, day + 1);\r\n        let dayOfWeek = getDayOfWeek(date) + 1;\r\n        if (dayOfWeek === 7) dayOfWeek = 0;\r\n        if (!routine.active[month][day] || !routine.days[dayOfWeek]) continue;\r\n        all++;\r\n        done += routine.done[month][day] ? 1 : 0;\r\n      }\r\n    return (done / all) * 100;\r\n  }\r\n};\r\nconst getTimeSpent = (\r\n  month = getMonth(),\r\n  dayOfMonth = getDayOfMonth(),\r\n  state = 0,\r\n  routines = ROUTINES\r\n) => {\r\n  if (state === 0) {\r\n    let ans = 0;\r\n    for (const routine of routines) {\r\n      ans += parseInt(routine.timeNeeded[month][dayOfMonth]);\r\n    }\r\n    return ans;\r\n  } else if (state === 1) {\r\n    let curr = new Date(2020, month, dayOfMonth + 1);\r\n    let ans = 0;\r\n    while (true) {\r\n      curr = new Date(curr.getTime() + 24 * 60 * 60 * 1000);\r\n      if (getDayOfWeek(curr) === 0) break;\r\n      for (const routine of ROUTINES)\r\n        ans += parseInt(\r\n          routine.timeNeeded[getMonth(curr)][getDayOfMonth(curr)]\r\n        );\r\n    }\r\n    curr = new Date(2020, month, dayOfMonth + 1);\r\n    while (true) {\r\n      for (const routine of ROUTINES)\r\n        ans += parseInt(\r\n          routine.timeNeeded[getMonth(curr)][getDayOfMonth(curr)]\r\n        );\r\n      if (getDayOfWeek(curr) === 0) break;\r\n      curr = new Date(curr.getTime() - 24 * 60 * 60 * 1000);\r\n    }\r\n    return ans;\r\n  } else if (state === 2) {\r\n    let ans = 0;\r\n    for (let day = 0; day < 31; day++)\r\n      for (const routine of ROUTINES)\r\n        ans += parseInt(routine.timeNeeded[month][day]);\r\n    return ans;\r\n  }\r\n};\r\n\r\nconst getNumRoutinesDone = (\r\n  month = getMonth(),\r\n  dayOfMonth = getDayOfMonth(),\r\n  state = 0,\r\n  routines = ROUTINES\r\n) => {\r\n  if (state === 0) {\r\n    let ans = 0;\r\n    for (const routine of routines) {\r\n      ans += routine.done[month][dayOfMonth] ? 1 : 0;\r\n    }\r\n    return ans;\r\n  } else if (state === 1) {\r\n    let ans = 0;\r\n    const week = getWeekOf(month, dayOfMonth);\r\n    for (const routine of routines)\r\n      for (const date of week) ans += routine.done[date[0]][date[1]] ? 1 : 0;\r\n    return ans;\r\n  } else if (state === 2) {\r\n    let ans = 0;\r\n    for (let day = 0; day < 31; day++)\r\n      for (const routine of routines) ans += routine.done[month][day] ? 1 : 0;\r\n    return ans;\r\n  }\r\n};\r\nconst getRoutineByDay = (month = getMonth(), dayOfMonth = getDayOfMonth()) => {\r\n  const date = new Date(2020, month, dayOfMonth + 1);\r\n  let dayOfWeek = date.getDay() - 1;\r\n  if (dayOfWeek < 0) dayOfWeek += 7;\r\n  return ROUTINES.filter(\r\n    (routine) => routine.active[month][dayOfMonth] && routine.days[dayOfWeek]\r\n  );\r\n};\r\nexport {\r\n  getRoutines,\r\n  getRoutineByName,\r\n  addRoutine,\r\n  toggleRoutineByName,\r\n  markRoutineAsDone,\r\n  deactivateRoutineByName,\r\n  deletRoutineByName,\r\n  activateRoutineByName,\r\n  getAcitveRoutines,\r\n  getTodaysRoutines,\r\n  getPercentageDone,\r\n  getTimeSpent,\r\n  getRoutineByDay,\r\n  getNumRoutinesDone,\r\n};\r\n","import React, { useState } from \"react\";\r\nimport RoutineCard from \"./RoutineCard\";\r\nimport {\r\n  getTodaysRoutines,\r\n  markRoutineAsDone,\r\n  getRoutineByName,\r\n} from \"../backend/routes\";\r\nimport { getMonth, getDayOfMonth } from \"../backend/helpers\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport DatePicker from \"react-datepicker\";\r\n\r\nexport default class Todos extends React.Component {\r\n  state = {\r\n    routines: [],\r\n    showModal: false,\r\n    month: getMonth(),\r\n    dayOfMonth: getDayOfMonth(),\r\n  };\r\n  Modal = () => {\r\n    const handleSubmit = (e) => {\r\n      const form = document.getElementById(\"modalForm\");\r\n      const time = form.time.value;\r\n      const comment = form.comment.value;\r\n      const month = getMonth();\r\n      const dayOfMonth = getDayOfMonth();\r\n      markRoutineAsDone(this.state.routineDoneName, comment, time);\r\n      this.setState({\r\n        routines: getTodaysRoutines().filter(\r\n          (routine) => !routine.done[month][dayOfMonth]\r\n        ),\r\n        showModal: false,\r\n      });\r\n      this.props.updateParent();\r\n    };\r\n    return (\r\n      <>\r\n        <Modal\r\n          show={this.state.showModal}\r\n          onHide={() => {\r\n            this.setState({ showModal: false, routineDoneName: \"\" });\r\n          }}\r\n          animation={false}\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Congrats</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Form id=\"modalForm\">\r\n              <Form.Group controlId=\"time\">\r\n                <Form.Label>Time</Form.Label>\r\n                <Form.Control\r\n                  type=\"number\"\r\n                  placeholder=\"Time in Minutes\"\r\n                  name=\"time\"\r\n                  defaultValue={\r\n                    getRoutineByName(this.state.routineDoneName).estimation\r\n                  }\r\n                />\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId=\"comment\">\r\n                <Form.Label>Comment</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Enter A comment\"\r\n                  name=\"comment\"\r\n                />\r\n              </Form.Group>\r\n            </Form>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"primary\" onClick={handleSubmit}>\r\n              Mark as Done\r\n            </Button>\r\n            <Button\r\n              variant=\"secondary\"\r\n              onClick={() =>\r\n                this.setState({ showModal: false, routineDoneName: \"\" })\r\n              }\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </>\r\n    );\r\n  };\r\n  componentDidMount() {\r\n    const month = this.state.month;\r\n    const dayOfMonth = this.state.dayOfMonth;\r\n    this.setState({\r\n      routines: getTodaysRoutines(month, dayOfMonth).filter(\r\n        (routine) => !routine.done[month][dayOfMonth]\r\n      ),\r\n    });\r\n  }\r\n  markRoutineAsDone = (routineName) => {\r\n    this.setState({ showModal: true });\r\n    this.setState({ routineDoneName: routineName });\r\n  };\r\n  updateDate = (date) => {\r\n    const month = date.getMonth();\r\n    const dayOfMonth = date.getDate() - 1;\r\n\r\n    this.setState({\r\n      month: date.getMonth(),\r\n      dayOfMonth: date.getDate() - 1,\r\n      routines: getTodaysRoutines(month, dayOfMonth).filter(\r\n        (routine) => !routine.done[month][dayOfMonth]\r\n      ),\r\n    });\r\n  };\r\n  render() {\r\n    const routines = this.state.routines;\r\n    if (routines.length === 0) {\r\n      return (\r\n        <div>\r\n          <h1>Congrats, you have completed all routines for today</h1>\r\n          <Button onClick={() => this.props.toggleParent()}>\r\n            See what your day was like\r\n          </Button>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <React.Fragment>\r\n        <PickDate updateDate={this.updateDate} />\r\n        <div style={flexContainerStyle}>\r\n          {routines.map((routine) => (\r\n            <RoutineCard\r\n              routine={routine}\r\n              markRoutineAsDone={this.markRoutineAsDone}\r\n              doneButton={true}\r\n            />\r\n          ))}\r\n        </div>\r\n        {this.state.showModal && this.Modal()}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\nconst flexContainerStyle = {\r\n  display: \"flex\",\r\n  flexWrap: \"wrap\",\r\n};\r\nfunction PickDate(props) {\r\n  const [startDate, setStartDate] = useState(new Date());\r\n  return (\r\n    <DatePicker\r\n      selected={startDate}\r\n      onChange={(date) => {\r\n        // if (date >= new Date()) {\r\n        //   alert(\"You are trying to compare with a date in the future\");\r\n        //   return;\r\n        // }\r\n        setStartDate(date);\r\n        props.updateDate(date);\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Chart from \"react-google-charts\";\r\nimport { getMonth, getDayOfMonth } from \"../backend/helpers\";\r\nimport { getRoutines } from \"../backend/routes\";\r\n\r\nexport default class extends React.Component {\r\n  getGraph = (routines, month, dayOfMonth) => {\r\n    const data = [[\"Task\", \"Minutes\"]];\r\n    for (const routine of routines) {\r\n      data.push([\r\n        routine.name,\r\n        parseInt(routine.timeNeeded[month][dayOfMonth]),\r\n      ]);\r\n    }\r\n    return (\r\n      <Chart\r\n        width={\"600px\"}\r\n        height={\"400px\"}\r\n        chartType=\"PieChart\"\r\n        loader={<div>Loading Chart</div>}\r\n        data={data}\r\n        options={{\r\n          title: \"Your day Today\",\r\n          backgroundColor: \"#546E7A\",\r\n          //   slices: {\r\n          //     0: { color: \"yellow\" },\r\n          //     1: { color: \"orange\" },\r\n          //   },\r\n        }}\r\n      />\r\n    );\r\n  };\r\n  render() {\r\n    const month = this.props.month ? this.props.month : getMonth();\r\n    const dayOfMonth = this.props.dayOfMonth\r\n      ? this.props.month\r\n      : getDayOfMonth();\r\n    return this.getGraph(getRoutines(), month, dayOfMonth);\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport Chart from \"react-google-charts\";\r\nimport { getTimeSpent } from \"../backend/routes\";\r\nimport { getMonth, getDayOfMonth } from \"../backend/helpers\";\r\nexport default class MinutesSpent extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n    const month = props.month ? props.month : getMonth();\r\n    const dayOfMonth = props.dayOfMonth ? props.dayOfMonth : getDayOfMonth();\r\n    this.state = {\r\n      month,\r\n      dayOfMonth,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const routines = this.props.routines;\r\n    const state = this.props.state | 0;\r\n    const showMetric = this.props.showMetric\r\n      ? this.props.showMetric\r\n      : getTimeSpent;\r\n    const title =\r\n      showMetric === getTimeSpent ? \"Minutes Spent\" : \"Routines Done\";\r\n    const data = [[\"Day\", title]];\r\n    if (state === 2) {\r\n      //months\r\n      for (let month = 0; month <= this.state.month; month++) {\r\n        data.push([\r\n          new Date(2020, month).toString().split(\" \")[1],\r\n          showMetric(month, -1, state, routines),\r\n        ]);\r\n      }\r\n    } else {\r\n      for (let day = numDays - 1; day >= 0; day--) {\r\n        let date;\r\n        if (state === 0)\r\n          //days\r\n          date = new Date(\r\n            new Date().getTime() -\r\n              24 * 60 * 60 * 1000 * day -\r\n              4 * 60 * 60 * 1000\r\n          );\r\n        else if (state === 1)\r\n          //weeks\r\n          date = new Date(\r\n            new Date().getTime() -\r\n              24 * 60 * 60 * 1000 * 7 * day -\r\n              4 * 60 * 60 * 1000\r\n          );\r\n        const month = date.getMonth();\r\n        const dayOfMonth = date.getDate() - 1;\r\n        data.push([\r\n          `${month + 1}/${dayOfMonth + 1}`,\r\n          showMetric(month, dayOfMonth, state, routines),\r\n        ]);\r\n      }\r\n    }\r\n    return (\r\n      <Chart\r\n        width={\"600px\"}\r\n        height={\"400px\"}\r\n        chartType=\"BarChart\"\r\n        loader={<div>Loading Chart</div>}\r\n        data={data}\r\n        options={{\r\n          hAxis: {\r\n            title,\r\n          },\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\nconst numDays = 8;\r\n","import Table from \"react-bootstrap/Table\";\r\nimport React from \"react\";\r\nimport { getMonth, getDayOfMonth } from \"../backend/helpers\";\r\nimport { getRoutines } from \"../backend/routes\";\r\nexport default class Log extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n    const month = props.month ? props.month : getMonth();\r\n    const dayOfMonth = props.dayOfMonth ? props.dayOfMonth : getDayOfMonth();\r\n    this.state = {\r\n      month,\r\n      dayOfMonth,\r\n      routines: props.routines,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    if (!this.state.routines) {\r\n      let routines = getRoutines().filter(\r\n        (routine) => routine.done[this.state.month][this.state.dayOfMonth]\r\n      );\r\n      routines.sort(\r\n        (x, y) =>\r\n          x.getStartTime(this.state.month, this.state.dayOfMonth, true) -\r\n          y.getStartTime(this.state.month, this.state.dayOfMonth, true)\r\n      );\r\n      this.setState({\r\n        routines,\r\n      });\r\n    }\r\n  }\r\n\r\n  getTime = (routine) => {\r\n    const month = this.state.month;\r\n    const dayOfMonth = this.state.dayOfMonth;\r\n    const finishTime = routine.touchTime[month][dayOfMonth];\r\n    const hrEnd = finishTime[0],\r\n      minEnd = finishTime[1];\r\n    const toNum = hrEnd * 60 + minEnd;\r\n    let start = toNum - routine.timeNeeded[month][dayOfMonth];\r\n    if (start < 0) start += 24 * 60;\r\n    let hr = Math.floor(start / 60);\r\n    return `${hr}:${start % 60} - ${finishTime[0]}:${finishTime[1]}`;\r\n  };\r\n  render() {\r\n    return (\r\n      <Table striped bordered hover>\r\n        <thead>\r\n          <tr>\r\n            <th>Time Period</th>\r\n            <th>Routine</th>\r\n            <th>Comment</th>\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n          {this.state.routines &&\r\n            this.state.routines.map((routine) => (\r\n              <tr>\r\n                <td>{this.getTime(routine)}</td>\r\n                <td>{routine.name}</td>\r\n                <td>{routine.info[this.state.month][this.state.dayOfMonth]}</td>\r\n              </tr>\r\n            ))}\r\n        </tbody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n","import Table from \"react-bootstrap/Table\";\r\nimport { getRoutineByDay } from \"../backend/routes\";\r\nimport { getMonth, getDayOfMonth } from \"../backend/helpers\";\r\nimport React, { useState } from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nexport default class CompareDays extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n    const month = props.month ? props.month : getMonth();\r\n    const dayOfMonth = props.dayOfMonth ? props.dayOfMonth : getDayOfMonth();\r\n    const date = new Date(\r\n      new Date(2020, month, dayOfMonth + 1).getTime() - 24 * 60 * 60 * 1000\r\n    );\r\n    const monthComp = date.getMonth();\r\n    const dayOfMonthComp = date.getDate() - 1;\r\n    this.state = {\r\n      month,\r\n      dayOfMonth,\r\n      monthComp,\r\n      dayOfMonthComp,\r\n    };\r\n  }\r\n  getData = () => {\r\n    const { month, dayOfMonth, monthComp, dayOfMonthComp } = this.state;\r\n    const data = [\r\n      getRoutineByDay(month, dayOfMonth),\r\n      getRoutineByDay(monthComp, dayOfMonthComp),\r\n    ];\r\n    const routines = data[0].map((routine) => routine);\r\n    for (const routine of data[1]) {\r\n      let found = false;\r\n      for (const addedRoutine of routines)\r\n        if (addedRoutine.name === routine.name) found = true;\r\n      if (!found) routines.push(routine);\r\n    }\r\n    return routines.map((routine) => {\r\n      return {\r\n        name: routine.name,\r\n        done1: routine.done[month][dayOfMonth],\r\n        done2: routine.done[monthComp][dayOfMonthComp],\r\n      };\r\n    });\r\n  };\r\n  update = (date) => {\r\n    this.setState({\r\n      monthComp: date.getMonth(),\r\n      dayOfMonthComp: date.getDate() - 1,\r\n    });\r\n  };\r\n  render() {\r\n    const routines = this.getData();\r\n    return (\r\n      <React.Fragment>\r\n        <Test\r\n          update={this.update}\r\n          monthComp={this.state.monthComp}\r\n          dayOfMonthComp={this.state.dayOfMonthComp}\r\n        ></Test>\r\n        <Table striped bordered hover>\r\n          <thead>\r\n            <tr>\r\n              <th>Routine</th>\r\n              <th>{`${this.state.monthComp + 1}/${\r\n                this.state.dayOfMonthComp + 1\r\n              }`}</th>\r\n              <th>Today</th>\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n            {routines &&\r\n              routines.map((routine) => (\r\n                <tr>\r\n                  <td>{routine.name}</td>\r\n                  <td>{routine.done2 ? \"YES\" : \"NO\"}</td>\r\n                  <td>{routine.done1 ? \"YES\" : \"NO\"}</td>\r\n                </tr>\r\n              ))}\r\n          </tbody>\r\n        </Table>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\nfunction Test(props) {\r\n  const [startDate, setStartDate] = useState(\r\n    new Date(2020, props.monthComp, props.dayOfMonthComp + 1)\r\n  );\r\n  return (\r\n    <DatePicker\r\n      selected={startDate}\r\n      onChange={(date) => {\r\n        if (date >= new Date()) {\r\n          alert(\"You are trying to compare with a date in the future\");\r\n          return;\r\n        }\r\n        setStartDate(date);\r\n        props.update(date);\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\n// import RoutineCard from \"./RoutineCard\";\r\nimport PieChart from \"./PieChart\";\r\nimport MinutesSpent from \"./MinutesSpent\";\r\nimport Log from \"./Log\";\r\nimport {\r\n  getTodaysRoutines,\r\n  getNumRoutinesDone,\r\n  getTimeSpent,\r\n  getPercentageDone,\r\n} from \"../backend/routes\";\r\nimport { getMonth, getDayOfMonth } from \"../backend/helpers\";\r\nimport CompareDays from \"./CompareDays\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\r\nexport default class Done extends React.Component {\r\n  state = { routines: [], state: 1, showMetric: getNumRoutinesDone };\r\n  componentDidMount() {\r\n    const month = getMonth();\r\n    const dayOfMonth = getDayOfMonth();\r\n    this.setState({\r\n      routines: getTodaysRoutines(month, dayOfMonth).filter(\r\n        (routine) => routine.done[month][dayOfMonth]\r\n      ),\r\n    });\r\n  }\r\n  summary() {\r\n    if (this.state.routines.length === 0) return <h1>Nothing Done Yet</h1>;\r\n    return (\r\n      <div style={{ flexGrow: \"1\", height: \"100vh\" }}>\r\n        <PieChart></PieChart>\r\n        <Log></Log>\r\n      </div>\r\n    );\r\n  }\r\n  minutesSpent() {\r\n    return (\r\n      <div>\r\n        <ButtonGroup aria-label=\"Basic example\">\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => this.setState({ state: 0 })}\r\n          >\r\n            Daily\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => this.setState({ state: 1 })}\r\n          >\r\n            Weekly\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => this.setState({ state: 2 })}\r\n          >\r\n            Monthly\r\n          </Button>\r\n        </ButtonGroup>\r\n        <ButtonGroup aria-label=\"Basic example\">\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => this.setState({ showMetric: getNumRoutinesDone })}\r\n          >\r\n            Number Done\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => this.setState({ showMetric: getTimeSpent })}\r\n          >\r\n            MinutesSpent\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => this.setState({ showMetric: getPercentageDone })}\r\n          >\r\n            Percentage\r\n          </Button>\r\n        </ButtonGroup>\r\n\r\n        <MinutesSpent\r\n          state={this.state.state}\r\n          showMetric={this.state.showMetric}\r\n        ></MinutesSpent>\r\n      </div>\r\n    );\r\n  }\r\n  render() {\r\n    return (\r\n      <div style={flexContainerStyle}>\r\n        {this.summary()}\r\n        <div style={{ flexGrow: \"1\", height: \"100vh\" }}>\r\n          {this.minutesSpent()}\r\n          <CompareDays></CompareDays>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst flexContainerStyle = {\r\n  display: \"flex\",\r\n  flexWrap: \"wrap\",\r\n  width: \"100%\",\r\n};\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport Todos from \"./components/Todos\";\r\nimport Done from \"./components/Done\";\r\n\r\nimport Button from \"react-bootstrap/Button\";\r\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\r\nimport ProgressBar from \"react-bootstrap/ProgressBar\";\r\n\r\nimport { getPercentageDone } from \"./backend/routes\";\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    todo: true,\r\n  };\r\n  update = () => {\r\n    this.setState(this.state);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ButtonGroup aria-label=\"Basic example\">\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => this.setState({ todo: true })}\r\n          >\r\n            To Do\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => this.setState({ todo: false })}\r\n          >\r\n            Done\r\n          </Button>\r\n        </ButtonGroup>\r\n        <ProgressBar\r\n          striped\r\n          variant=\"success\"\r\n          now={getPercentageDone()}\r\n          label={`${getPercentageDone()}%`}\r\n        />\r\n        {this.state.todo && (\r\n          <Todos\r\n            updateParent={this.update}\r\n            toggleParent={() => this.setState({ todo: false })}\r\n          ></Todos>\r\n        )}\r\n        {!this.state.todo && <Done></Done>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\r\nimport { addRoutine } from \"../backend/routes\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nclass AddRoutine extends React.Component {\r\n  clickWeekend = (e) => {\r\n    let checkboxList = document.querySelectorAll(\".day-item\");\r\n    for (let i = 0; i < 7; i++) checkboxList[i].checked = i >= 5;\r\n  };\r\n  clickAll = (e) => {\r\n    let checkboxList = document.querySelectorAll(\".day-item\");\r\n    checkboxList.forEach((checkbox) => (checkbox.checked = true));\r\n  };\r\n  handleSubmit = (e) => {\r\n    const form = e.target.parentElement;\r\n    let routineName = form.routineName.value;\r\n    let routineTpye = form.type.value;\r\n    let routineUrl = form.url.value;\r\n    let routineTime = form.time.value;\r\n    let weekSchedule = [];\r\n    let checkboxList = document.querySelectorAll(\".day-item\");\r\n    for (const checkbox of checkboxList) weekSchedule.push(checkbox.checked);\r\n    addRoutine(routineName, routineTpye, weekSchedule, routineTime, routineUrl);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Form style={{ margin: \"10px\" }}>\r\n        <Form.Group controlId=\"formBasicEmail\">\r\n          <Form.Label>Routine Name</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Enter Routine Name\"\r\n            name=\"routineName\"\r\n          />\r\n        </Form.Group>\r\n        <input\r\n          type=\"radio\"\r\n          name=\"type\"\r\n          value=\"Daily\"\r\n          onClick={this.clickAll.bind(this)}\r\n        />\r\n        {\"Daily\"}\r\n        <input\r\n          type=\"radio\"\r\n          name=\"type\"\r\n          value=\"Weekly\"\r\n          onClick={this.clickWeekend.bind(this)}\r\n        />\r\n        {\"Weekly\"}\r\n        <ul id=\"days\">\r\n          <li>\r\n            <input type=\"checkbox\" className=\"day-item\" value={0} /> Monday\r\n          </li>\r\n          <li>\r\n            <input type=\"checkbox\" className=\"day-item\" value={1} /> Tuesday\r\n          </li>\r\n          <li>\r\n            <input type=\"checkbox\" className=\"day-item\" value={2} /> Wednesday\r\n          </li>\r\n          <li>\r\n            <input type=\"checkbox\" className=\"day-item\" value={3} /> Thursday\r\n          </li>\r\n          <li>\r\n            <input type=\"checkbox\" className=\"day-item\" value={4} /> Friday\r\n          </li>\r\n          <li>\r\n            <input type=\"checkbox\" className=\"day-item\" value={5} /> Saturday\r\n          </li>\r\n          <li>\r\n            <input type=\"checkbox\" className=\"day-item\" value={6} /> Sunday\r\n          </li>\r\n        </ul>\r\n        <input type=\"text\" name=\"time\" placeholder=\"Time in Minutes\"></input>\r\n        <input type=\"text\" name=\"url\" placeholder=\"Image url\"></input>\r\n\r\n        <Button\r\n          variant=\"primary\"\r\n          type=\"submit\"\r\n          onClick={this.handleSubmit.bind(this)}\r\n          href=\"/Routine-Tracker\"\r\n        >\r\n          Add Routine\r\n        </Button>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\nexport default AddRoutine;\r\n","import React from \"react\";\r\nexport default class Help extends React.Component {\r\n  render() {\r\n    return <h1>Help</h1>;\r\n  }\r\n}\r\n","import { getRoutines } from \"../backend/routes\";\r\nimport React from \"react\";\r\nimport RoutineCard from \"./RoutineCard\";\r\nexport default class ViewRoutines extends React.Component {\r\n  state = { routines: [] };\r\n  componentDidMount() {\r\n    this.setState({ routines: getRoutines() });\r\n  }\r\n  render() {\r\n    return (\r\n      <div style={flexContainerStyle}>\r\n        {this.state.routines.map((routine) => (\r\n          <RoutineCard routine={routine} />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst flexContainerStyle = {\r\n  display: \"flex\",\r\n  flexWrap: \"wrap\",\r\n};\r\n","import React from \"react\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\n\r\nexport default class AlertDismissible extends React.Component {\r\n  state = {\r\n    show: true,\r\n  };\r\n  render() {\r\n    if (this.state.show) {\r\n      return (\r\n        <Alert\r\n          variant={this.props.variant}\r\n          onClose={() => this.setState({ show: false })}\r\n          dismissible\r\n        >\r\n          <Alert.Heading>{this.props.header}</Alert.Heading>\r\n        </Alert>\r\n      );\r\n    }\r\n    return <React.Fragment></React.Fragment>;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport Chart from \"react-google-charts\";\r\nimport { getDaysInMonths, getDayOfWeek } from \"../backend/helpers\";\r\nclass Calendar extends React.Component {\r\n  getData = () => {\r\n    const routine = this.props.routine;\r\n\r\n    const data = [\r\n      [\r\n        { type: \"date\", id: \"Date\" },\r\n        { type: \"number\", id: \"Minutes Spent\" },\r\n      ],\r\n    ];\r\n    for (let m = 0; m < 12; m++) {\r\n      for (let d = 0; d < getDaysInMonths(m); d++)\r\n        if (\r\n          routine.active[m][d] &&\r\n          routine.days[getDayOfWeekGivenMYD(m, 2020, d)]\r\n        )\r\n          data.push([\r\n            new Date(2020, m, d + 1),\r\n            parseInt(routine.timeNeeded[m][d]),\r\n          ]);\r\n    }\r\n\r\n    return data;\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div>\r\n          <Chart\r\n            // width={400}\r\n            // height={300}\r\n            chartType=\"Calendar\"\r\n            loader={<div>Loading Chart</div>}\r\n            data={this.getData()}\r\n            options={options}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst getDayOfWeekGivenMYD = (m, y, d) => {\r\n  d++; // 0 indexed=> 1 indexed\r\n  return getDayOfWeek(new Date(y, m, d + 1)); //adjusting for 4 am\r\n};\r\nexport default Calendar;\r\nconst options = {\r\n  // title: \"Red Sox Attendance\",\r\n  height: 350,\r\n  calendar: {\r\n    cellColor: {\r\n      stroke: \"#6B8E23\",\r\n      strokeOpacity: 0.6,\r\n      strokeWidth: 1,\r\n    },\r\n  },\r\n  colors: [\"#FF0000\", \"#00FF00\"],\r\n};\r\n","import React from \"react\";\r\nimport Chart from \"react-google-charts\";\r\nexport default class extends React.Component {\r\n  getGraph = () => {\r\n    const { x, y } = getData(this.props.routine);\r\n    const data = [[\"Day\", \"Minutes\"]];\r\n    for (let i = 0; i < x.length; i++) {\r\n      data.push([x[i], y[i]]);\r\n    }\r\n\r\n    return (\r\n      <Chart\r\n        width={\"600px\"}\r\n        height={\"400px\"}\r\n        chartType=\"BarChart\"\r\n        loader={<div>Loading Chart</div>}\r\n        data={data}\r\n        options={{\r\n          hAxis: {\r\n            title: \"Minutes Spent\",\r\n          },\r\n        }}\r\n        rootProps={{ \"data-testid\": \"1\" }}\r\n      />\r\n    );\r\n  };\r\n  render() {\r\n    return <div>{this.getGraph()}</div>;\r\n  }\r\n}\r\nconst getData = (routine) => {\r\n  let time = new Date().getTime();\r\n  let x = [],\r\n    y = [];\r\n  const days = [\r\n    \"Sunday\",\r\n    \"Monday\",\r\n    \"Tuesday\",\r\n    \"Wednesday\",\r\n    \"Thursday\",\r\n    \"Friday\",\r\n    \"Saturday\",\r\n  ];\r\n  for (let i = 0; i < 7; i++) {\r\n    let date = new Date(time);\r\n    const month = date.getMonth();\r\n    const dayOfMonth = date.getDate() - 1;\r\n    y.push(parseInt(routine.timeNeeded[month][dayOfMonth]));\r\n    let dayOfWeek = date.getDay();\r\n    x.push(days[dayOfWeek]);\r\n    time -= 24 * 60 * 60 * 1000;\r\n  }\r\n  return { x, y };\r\n};\r\n","import React from \"react\";\r\nimport Alert from \"./Alert\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\r\n\r\nimport Table from \"react-bootstrap/Table\";\r\nimport Chart from \"react-google-charts\";\r\n\r\nimport {\r\n  deactivateRoutineByName,\r\n  activateRoutineByName,\r\n  deletRoutineByName,\r\n  getNumRoutinesDone,\r\n  getTimeSpent,\r\n  getPercentageDone,\r\n} from \"../backend/routes\";\r\n// import pic from \"../assets/sports1.png\";\r\nimport Calendar from \"./Calendar\";\r\nimport WeeklyBarChart from \"./WeeklyBarChart\";\r\nimport MinutesSpent from \"./MinutesSpent\";\r\nimport RoutineCard from \"./RoutineCard\";\r\nimport { getMonth, getDayOfMonth, getDayOfWeek } from \"../backend/helpers\";\r\nexport default class RoutineZoomed extends React.Component {\r\n  activateDeactivateButton = () => {\r\n    const month = getMonth();\r\n    const dayOfMonth = getDayOfMonth();\r\n    const routine = this.props.routine;\r\n    if (routine.active[month][dayOfMonth])\r\n      return (\r\n        <Button\r\n          variant=\"warning\"\r\n          onClick={(e) => {\r\n            deactivateRoutineByName(routine.name);\r\n          }}\r\n          href=\"/Routine-Tracker/routines\"\r\n        >\r\n          Deactivate\r\n        </Button>\r\n      );\r\n    else\r\n      return (\r\n        <div>\r\n          <Button\r\n            variant=\"info\"\r\n            onClick={(e) => {\r\n              activateRoutineByName(routine.name);\r\n            }}\r\n            href=\"/Routine-Tracker//routines\"\r\n          >\r\n            Activate\r\n          </Button>\r\n          <Button\r\n            variant=\"danger\"\r\n            onClick={(e) => {\r\n              deletRoutineByName(routine.name);\r\n            }}\r\n            href=\"/Routine-Tracker//routines\"\r\n          >\r\n            Delete\r\n          </Button>\r\n        </div>\r\n      );\r\n  };\r\n  getStatus = () => {\r\n    const routine = this.props.routine;\r\n    const month = getMonth();\r\n    const dayOfMonth = getDayOfMonth();\r\n    if (!routine.active[month][dayOfMonth]) return <h1>NOT ACTIVE</h1>;\r\n    const dayOfWeek = getDayOfWeek();\r\n    if (!routine.days[dayOfWeek]) return <h1>NOT SCHEDULED TODAY</h1>;\r\n    return routine.done[month][dayOfMonth] ? (\r\n      <h1>\r\n        {`You did it today in ${routine.timeNeeded[month][dayOfMonth]} minutes and info was ${routine.info[month][dayOfMonth]}`}{\" \"}\r\n      </h1>\r\n    ) : (\r\n      <h1>You still have to do it</h1>\r\n    );\r\n  };\r\n  statsForRoutine = () => {\r\n    // return <h1>Helol</h1>;\r\n    const routine = [this.props.routine];\r\n    return (\r\n      <div>\r\n        <ButtonGroup aria-label=\"Basic example\">\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => this.setState({ state: 0 })}\r\n          >\r\n            Daily\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => this.setState({ state: 1 })}\r\n          >\r\n            Weekly\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => this.setState({ state: 2 })}\r\n          >\r\n            Monthly\r\n          </Button>\r\n        </ButtonGroup>\r\n        <ButtonGroup aria-label=\"Basic example\">\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => this.setState({ showMetric: getNumRoutinesDone })}\r\n          >\r\n            Number Done\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => this.setState({ showMetric: getTimeSpent })}\r\n          >\r\n            MinutesSpent\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => this.setState({ showMetric: getPercentageDone })}\r\n          >\r\n            Percentage\r\n          </Button>\r\n        </ButtonGroup>\r\n\r\n        <MinutesSpent\r\n          state={this.state.state}\r\n          showMetric={this.state.showMetric}\r\n          routines={routine}\r\n        ></MinutesSpent>\r\n      </div>\r\n    );\r\n  };\r\n  showAlert() {\r\n    const routine = this.props.routine;\r\n    const status = routine.todayStatus();\r\n    if (status === 1)\r\n      return <Alert variant=\"success\" header=\"Congrats\"></Alert>;\r\n    else if (status === -1)\r\n      return (\r\n        <Alert\r\n          variant=\"danger\"\r\n          header={`${routine.name} is scheduled for today`}\r\n        ></Alert>\r\n      );\r\n  }\r\n  state = { state: 1, showMetric: getNumRoutinesDone };\r\n\r\n  render() {\r\n    const routine = this.props.routine;\r\n\r\n    return (\r\n      <div>\r\n        {this.showAlert()}\r\n        <div\r\n          style={{\r\n            display: \"grid\",\r\n            gridTemplateColumns: \"1fr 3fr\",\r\n          }}\r\n        >\r\n          <RoutineCard routine={routine} zoom={true} />\r\n          <Calendar style={{ justifyContent: \"center\" }} routine={routine} />\r\n        </div>\r\n        <div style={gridStyle}>\r\n          {this.statsForRoutine()}\r\n          <WeeklyBarChart routine={routine} />\r\n          <LastDays routine={routine} />\r\n          <CommentDistribution routine={routine} />\r\n        </div>\r\n        {this.activateDeactivateButton()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction LastDays(props) {\r\n  const routine = props.routine;\r\n  const numDays = 7;\r\n  let dates = [];\r\n  let curr = new Date();\r\n  for (let i = getDayOfWeek(); dates.length < numDays; i = (i + 6) % 7) {\r\n    if (routine.days[i]) {\r\n      dates.push(curr);\r\n    }\r\n    curr = new Date(curr.getTime() - 24 * 60 * 60 * 1000);\r\n  }\r\n  // dates.reverse();\r\n  return (\r\n    <Table striped bordered hover>\r\n      <thead>\r\n        <tr>\r\n          <th>Date</th>\r\n          <th>Time Period</th>\r\n          <th>Comment</th>\r\n        </tr>\r\n      </thead>\r\n\r\n      <tbody>\r\n        {dates.map((date) => (\r\n          <tr>\r\n            <td>{date.toDateString()}</td>\r\n            <td>\r\n              {routine.done[getMonth(date)][getDayOfMonth(date)]\r\n                ? routine.getDuration(getMonth(date), getDayOfMonth(date))\r\n                : \"NO\"}\r\n            </td>\r\n            <td>{routine.info[getMonth(date)][getDayOfMonth(date)]}</td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </Table>\r\n  );\r\n}\r\nconst gridStyle = {\r\n  display: \"grid\",\r\n  gridTemplateColumns: \"1fr 1fr\",\r\n};\r\n\r\nfunction CommentDistribution(props) {\r\n  const routine = props.routine;\r\n  let map = new Map();\r\n  for (let m = 0; m < 12; m++)\r\n    for (let d = 0; d < 31; d++)\r\n      if (routine.info[m][d] !== \"\") {\r\n        const key = routine.info[m][d];\r\n        let cnt = map.has(key) ? map.get(key) : 0;\r\n        cnt++;\r\n        map.set(key, cnt);\r\n      }\r\n  const data = [[\"Comment\", \"# of Times\"]];\r\n  for (let [comment, cnt] of map) {\r\n    data.push([comment, cnt]);\r\n  }\r\n  if (data.length === 1) return <React.Fragment></React.Fragment>;\r\n  return (\r\n    <Chart\r\n      width={\"600px\"}\r\n      height={\"400px\"}\r\n      chartType=\"PieChart\"\r\n      loader={<div>Loading Chart</div>}\r\n      data={data}\r\n      options={{\r\n        title: \"Your Comments\",\r\n        backgroundColor: \"#546E7A\",\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport MinutesSpent from \"./MinutesSpent\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\r\nimport Chart from \"react-google-charts\";\r\n\r\nimport {\r\n  getNumRoutinesDone,\r\n  getTimeSpent,\r\n  getRoutines,\r\n  getPercentageDone,\r\n} from \"../backend/routes\";\r\nimport { getDaysInMonths } from \"../backend/helpers\";\r\nexport default class Stats extends React.Component {\r\n  state = { state: 1, showMetric: getNumRoutinesDone };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ButtonGroup aria-label=\"Basic example\">\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => this.setState({ state: 0 })}\r\n          >\r\n            Daily\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => this.setState({ state: 1 })}\r\n          >\r\n            Weekly\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => this.setState({ state: 2 })}\r\n          >\r\n            Monthly\r\n          </Button>\r\n        </ButtonGroup>\r\n        <ButtonGroup aria-label=\"Basic example\">\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => this.setState({ showMetric: getNumRoutinesDone })}\r\n          >\r\n            Number Done\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => this.setState({ showMetric: getTimeSpent })}\r\n          >\r\n            MinutesSpent\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => this.setState({ showMetric: getPercentageDone })}\r\n          >\r\n            Percentage\r\n          </Button>\r\n        </ButtonGroup>\r\n\r\n        <MinutesSpent\r\n          state={this.state.state}\r\n          showMetric={this.state.showMetric}\r\n        ></MinutesSpent>\r\n        <RoutinesFrequency></RoutinesFrequency>\r\n        <HeatMap showMetric={this.state.showMetric}></HeatMap>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nfunction RoutinesFrequency() {\r\n  const routines = getRoutines();\r\n  routines.sort((x, y) => y.numTimesDone() - x.numTimesDone());\r\n  const data = [[\"Routine\", \"Number of times does\"]];\r\n  for (const routine of routines) {\r\n    let y = routine.numTimesDone();\r\n    if (y > 0) data.push([routine.name, y]);\r\n  }\r\n  return (\r\n    <Chart\r\n      width={\"600px\"}\r\n      height={\"400px\"}\r\n      chartType=\"BarChart\"\r\n      loader={<div>Loading Chart</div>}\r\n      data={data}\r\n      options={{\r\n        hAxis: {\r\n          title: \"Top Routines\",\r\n        },\r\n      }}\r\n    />\r\n  );\r\n}\r\nfunction HeatMap(props) {\r\n  const options = {\r\n    title: \"Heat Map\",\r\n    height: 350,\r\n    calendar: {\r\n      cellColor: {\r\n        stroke: \"#6B8E23\",\r\n        strokeOpacity: 0.6,\r\n        strokeWidth: 1,\r\n      },\r\n    },\r\n    colors: [\"#FF0000\", \"#00FF00\"],\r\n  };\r\n  const data = [\r\n    [\r\n      { type: \"date\", id: \"Date\" },\r\n      { type: \"number\", id: \"Number of times done\" },\r\n    ],\r\n  ];\r\n  for (let m = 0; m < 12; m++) {\r\n    for (let d = 0; d < getDaysInMonths(m, 2020); d++)\r\n      data.push([new Date(2020, m, d + 1), props.showMetric(m, d)]);\r\n  }\r\n\r\n  return (\r\n    <Chart\r\n      chartType=\"Calendar\"\r\n      loader={<div>Loading Chart</div>}\r\n      data={data}\r\n      options={options}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport AddRoutine from \"./components/AddRoutine\";\r\nimport Help from \"./components/Help\";\r\nimport ViewRoutines from \"./components/ViewRoutines\";\r\nimport RoutineZoomed from \"./components/RoutineZoomed\";\r\nimport Stats from \"./components/Stats\";\r\nimport { getRoutineByName } from \"./backend/routes\";\r\nReactDOM.render(\r\n  <Router basename=\"/Routine-Tracker\">\r\n    <React.StrictMode>\r\n      <Navbar bg=\"primary\" variant=\"dark\">\r\n        <Navbar.Brand href=\"/Routine-Tracker\">Home</Navbar.Brand>\r\n        <Nav className=\"mr-auto\">\r\n          <Nav.Link href=\"/Routine-Tracker/add\">Add</Nav.Link>\r\n          {/* <Nav.Link href=\"/Routine-Tracker/help\">Help</Nav.Link> */}\r\n          <Nav.Link href=\"/Routine-Tracker/stats\">Stats</Nav.Link>\r\n          <Nav.Link href=\"/Routine-Tracker/routines\">All Routines</Nav.Link>\r\n        </Nav>\r\n      </Navbar>\r\n\r\n      <Switch>\r\n        <Route exact path=\"/add\">\r\n          <AddRoutine />\r\n        </Route>\r\n        <Route exact path=\"/stats\">\r\n          <Stats />\r\n        </Route>\r\n        <Route exact path=\"/help\">\r\n          <Help />\r\n        </Route>\r\n        <Route exact path=\"/routines\">\r\n          <ViewRoutines />\r\n        </Route>\r\n        <Route exact path={`/routines/:routineName`}>\r\n          <Zoom />\r\n        </Route>\r\n        <Route exact path=\"/\">\r\n          <App></App>\r\n        </Route>\r\n      </Switch>\r\n    </React.StrictMode>\r\n  </Router>,\r\n  document.getElementById(\"root\")\r\n);\r\nfunction Zoom() {\r\n  let { routineName } = useParams();\r\n  return <RoutineZoomed routine={getRoutineByName(routineName)} />;\r\n}\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}